{"version":3,"sources":["webpack:///./src/components/assets/recordProgress/index.scss?99b6","webpack:///./src/components/chat/input/index.sass?2408","webpack:///./src/components/assets/recordVoice/index.scss","webpack:///./src/components/chat/input/index.sass","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?da2f","webpack:///./src/components/chat/input/InputField/InputField.vue?ef6b","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?61be","webpack:///./src/components/chat/input/InputField/InputField.vue?1886","webpack:///./src/components/assets/recordVoice/index.scss?44d4","webpack:///./src/components/utils/ModalWindow.vue?1964","webpack:///./src/components/contacts/list/index.sass?39f2","webpack:///./src/components/chat/input/index.sass?04ac","webpack:///./src/components/contacts/list/index.sass?c803","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?c6d5","webpack:///./src/components/utils/ModalWindow.vue?ebc0","webpack:///./src/components/chat/input/InputField/InputField.vue?af30","webpack:///./src/components/assets/recordVoice/index.scss?1dd5","webpack:///./src/components/chat/input/InputField/InputField.vue?8a06","webpack:///./src/components/contacts/list/index.sass","webpack:///./src/components/chat/input/InputField/InputField.vue?5607","webpack:///./src/components/chat/input/InputField/InputField.vue?c3b1","webpack:///./src/components/assets/recordProgress/index.scss","webpack:///./src/components/utils/ModalWindow.vue?575c","webpack:///./src/components/assets/recordProgress/index.scss?5906","webpack:///./src/components/contacts/list/index.vue","webpack:///./src/components/utils/ModalWindow.vue","webpack:///src/components/utils/ModalWindow.vue","webpack:///./src/components/utils/ModalWindow.vue?dbf6","webpack:///./src/components/utils/ModalWindow.vue?f1da","webpack:///./src/components/contacts/list/index.js","webpack:///./src/components/contacts/list","webpack:///./src/components/contacts/list/index.vue?39c8","webpack:///./src/components/chat/input/index.vue","webpack:///./src/components/chat/input/InputField/InputField.vue","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue","webpack:///src/components/chat/input/picturePreview/picturePreview.vue","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?3bda","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?5cb9","webpack:///src/components/chat/input/InputField/InputField.vue","webpack:///./src/components/chat/input/InputField/InputField.vue?3335","webpack:///./src/components/chat/input/InputField/InputField.vue?e642","webpack:///./src/components/assets/recordVoice/index.vue","webpack:///./src/components/assets/recordVoice/index.js","webpack:///./src/components/assets/recordVoice","webpack:///./src/components/assets/recordVoice/index.vue?d406","webpack:///./src/components/assets/recordProgress/index.vue","webpack:///./src/components/assets/recordProgress/index.js","webpack:///./src/components/assets/recordProgress","webpack:///./src/components/assets/recordProgress/index.vue?b74b","webpack:///./src/components/chat/input/index.js","webpack:///./src/components/chat/input","webpack:///./src/components/chat/input/index.vue?f6fe"],"names":["content","__esModule","default","module","i","locals","exports","add","__inject__","shadowRoot","___CSS_LOADER_API_IMPORT___","push","render","_vm","this","_c","_self","_setupProxy","staticClass","class","minimized","attrs","users","scopedSlots","_u","key","fn","item","mode","on","$event","navigateToProfile","id","_e","toggleUser","selected","staticRenderFns","_v","_s","message","close","name","props","methods","component","data","loading","components","preview","ModalWindow","type","String","Array","Object","title","watch","computed","mapState","auth","state","mapActions","select","contact","$emit","$router","path","catch","e","mounted","ready","chat","donate","tipusers","length","_l","user","tipuserindex","insertuser","voiceEnable","isRecording","record","recordTime","recordRmsData","cancelOpacity","clear","ref","roomId","me","sendinput","emitInputData","HideUploadPic","pasteImage","focused","tipBySearch","browsetip","selectcurrenttip","sendtransactionWrapper","streamMode","upload","extended","showinputmenu","directives","rawName","value","expression","prepareRecording","microphoneDisabled","initRecording","stopRecording","setOpacity","sendVoiceMessage","_m","removetransaction","$t","domProps","text","blured","keydown","textchange","keyup","paste_image","mobile","emojiIndex","display_emoji","close_emoji_picker","style","width","position","bottom","right","left","fontSize","fontFamily","exclude","insert_emoji","toggle_emoji_picker","pkoindisabled","donateAction","send","send_text","is_opened","base64","hide","Picker","picturePreview","clickOutside","inject","immediately","handler","content_height","pasted_data","block","multiple","extensions","images","resize","hidden_previews","prepareemoji","window","setText","setTimeout","savetextinstorage","localStorage","send_empty_array","focus","blur","blurifempty","textarea_resize","textarea_resize_reset","get_base64","reader","confirm","okText","cancelText","then","resize_image","autorotation","getsearchposition","start","middle","end","sposition","br","dg","getsearch","event","inserttip","f","storagekey","creared","hold","isHold","active","disabled","mousedown","mouseup","handleTouchStart","handleTouchEnd","recordEnd","Boolean","required","direction","beforeDestroy","document","removeEventListener","handleMove","cancel","Y","changedTouches","pageY","X","pageX","addEventListener","sendnow","clearStyle","$refs","toggle","transform","classList","remove","holder","deltaY","deltaX","contains","recording","timer","opacity","Number","rmsData","minute","Math","floor","sec","rmsDataLast","_","last","throttle","draw","graph","offsetWidth","re","canvas","ctx","getContext","count","l","c","max","clearRect","fillStyle","fillRect","u","relationEvent","InputField","contacts","recordProgress","recordVoice","test","file","fileInfo","creating","userId","showuserselect","anyUrlMeta","joinedMembers","tipvalue","mediaRecorder","audioContext","audioAnalyser","interval","cancelledCordovaMediaRecorder","usersForKeysHash","$store","voiceMessagesEnabled","connect","menu","menuItems","POCKETNETINSTANCE","supportimagegallery","action","cameraHandlerCustom","icon","maxsize","uploadStart","error","uploadError","uploaded","uploadUploaded","uploadedAll","uploadUploadedAll","transaction","unshift","userlist","core","mtrx","chatUsersInfo","deep","uusers","map","split","ausers","matrixId","stateChat","$route","query","chatsMap","invited","filter","currentState","getMembers","m","v","membership","joined","arr","forEach","toLowerCase","indexOf","maintipuser","authorId","userinfo","source","address","created","client","newchat","Promise","resolve","wait","$f","pretry","access","increase","showuserselected","resizeImage","ftype","Images","reject","result","platform","ui","uploadImage","Base64","toFile","console","onSuccess","imgs","j","getmatrixid","r","store","commit","caption","$i18n","t","userselected","sendtransaction","api","roomid","receiver","share","emitUrl","url","globalpreloader","usersInfo","info","_info","keys","kit","tetatetid","initialstate","state_key","encrypted","createRoom","room_alias_name","visibility","invite","initial_state","_chat","m_chat","getRoom","room_id","getStateEvents","setPowerLevel","greetings","errcode","joinRoom","baseUrl","replace","maySendMessage","textCutLimit","limit","trim","slice","replaceMentions","each","RegExp","clbkEncrypt","clbkEncrypted","textEvent","encryptEvent","encryptedEvent","rel_type","event_id","clearEventId","makeid","editEvent","body","msgtype","decryptKey","decrypted","sendEvent","dispatch","sendText","params","sendtext","assign","relation","txid","donateLink","sendImage","meta","aborted","canencryptfilesize","s","pcrypto","canBeEncrypt","size","$dialog","dialog","sendFile","notenc","change","evt","target","getUrl","undefined","sendTyping","files","getImg","uploadSizeError","validImageTypes","includes","imageWH","img","Image","imgInfo","onload","w","h","height","onerror","src","catchPermissonsError","err","toString","cordova","getFileIosCordova","resolveLocalFileSystemURL","entry","FileReader","onloadend","blob","Blob","Uint8Array","readAsArrayBuffer","initRecordingCordova","cancelable","media","permissions","audio","isios","getAudioContext","cordovaMediaRecorder","Media","release","fu","externalDataDirectory","duration","createVoiceMessage","finally","rmsdata","currentPlaying","currentPlayingVoiceMessage","pause","setInterval","clone","getCurrentAmplitude","amp","log","startRecord","initMediaRecorder","recorder","stream","getTracks","track","stop","createAnalyser","createMediaStreamSource","startRecording","dataArray","frequencyBinCount","getByteFrequencyData","generateRms","checkaudioForSend","getduration","readFile","arraybuffer","decodeAudioData","buffer","frequencies","sqrt","reduce","a","b","toPrecision","clearInterval","hasdata","stopRecord","convertAudioToBase64","sendAudio","menuState","set","items"],"mappings":"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","file":"matrix-element.12.min.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!./index.scss?vue&type=style&index=0&id=5df29904&prod&scoped=true&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"5ba85ea0\", content, shadowRoot)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=efa2321a&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"11860d5d\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".recordButton_wrapper[data-v-16750db8]{position:relative}.recordButton_holder[data-v-16750db8]{visibility:hidden;position:absolute;display:flex;justify-content:center;align-items:center;height:16px;width:16px;background:#789;border-radius:50%;bottom:98px;transition:.1s;right:9px}.recordButton_holder .icon[data-v-16750db8]{color:#fff;font-size:7px}.recordButton_holder.active[data-v-16750db8]{visibility:visible}.recordButton_holder.hold[data-v-16750db8]{background:#789;visibility:visible;bottom:38px}.recordButton_holder.hold .icon[data-v-16750db8]{color:#fff}.recordButton_main[data-v-16750db8]{padding-top:1px;touch-action:none;display:flex;align-items:center;justify-content:center;width:35px;height:35px;line-height:35px!important;background:transparent;border-radius:50%;outline:none;position:relative}.recordButton_main.active[data-v-16750db8]{background:rgb(var(--color-bg-ac));animation:pulse-16750db8 1.2s infinite}.recordButton_main.active .icon[data-v-16750db8]{color:rgb(var(--text-on-bg-shadow-color))}.recordButton_main.active[data-v-16750db8]:before{position:absolute;left:-30px;bottom:-30px;right:-30px;top:-30px;content:\\\"\\\";border-radius:50%;border:35px solid rgba(var(--color-bg-ac),.5);animation:pulse-16750db8 1.2s infinite}.recordButton_main.disabled .icon[data-v-16750db8]{color:rgb(var(--neutral-grad-2))}.recordButton_main.outside[data-v-16750db8],.recordButton_stop[data-v-16750db8]{background:rgb(var(--color-bad))}.recordButton_stop[data-v-16750db8]{color:rgb(var(--text-on-bg-shadow-color));font-size:.7em}@keyframes pulse-16750db8{0%{opacity:1}50%{opacity:.8}to{opacity:1}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#chatInput[data-v-efa2321a]{padding-bottom:.5em}[data-v-efa2321a] #modal.minimized .modal-wrapper{left:0}[data-v-efa2321a] .previewWrapper{padding-left:.5em!important;padding-right:.5em!important}.inputWrapper[data-v-efa2321a]{display:flex;position:relative}.inputWrapper .left[data-v-efa2321a]{width:35px;display:flex;justify-content:flex-end;align-items:center;text-align:center}.inputWrapper .left.donation+.center[data-v-efa2321a]{margin:0 0 0 .25em}.inputWrapper .left .iconbutton[data-v-efa2321a]{display:flex;align-items:center;justify-content:center;height:35px;width:35px;-webkit-tap-highlight-color:transparent}.inputWrapper .left .iconbutton.donate[data-v-efa2321a]{border:1px solid rgba(var(--neutral-grad-0),.9);border-radius:12px}.inputWrapper .left .icon.donate[data-v-efa2321a]{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy4yNTggMS45NzlMMTUuMTgyIDBsLTIuNDU3IDIuNTc5YTcuODUgNy44NSAwIDAwLTQuMDk2LTEuMTQ1Yy0xLjMwMiAwLTIuNTMuMzE1LTMuNjEyLjg3NEwyLjgxNyAwIC43NDIgMS45OCAyLjc0IDQuMDc1QTcuODU4IDcuODU4IDAgMDAuNzQxIDkuMzIxYzAgMS44NTQuNjQgMy41NTkgMS43MSA0LjkwNWwtMS43MSAxLjc5NUwyLjgxOCAxOGwxLjc5OC0xLjg4N2E3Ljg1MiA3Ljg1MiAwIDAwNC4wMTMgMS4wOTYgNy44NSA3Ljg1IDAgMDA0LjQ3NC0xLjM5TDE1LjE4MiAxOGwyLjA3Ni0xLjk3OS0yLjEyNy0yLjIzM2E3Ljg1IDcuODUgMCAwMDEuMzg2LTQuNDY3YzAtMS44Mi0uNjE3LTMuNDk2LTEuNjUyLTQuODNsMi4zOTMtMi41MTJ6TTMuNTU1IDkuMzJhNS4wNzQgNS4wNzQgMCAxMDEwLjE0OCAwIDUuMDc0IDUuMDc0IDAgMDAtMTAuMTQ4IDB6IiBmaWxsPSIjMDBBNEZGIi8+PC9zdmc+) no-repeat 50% 50%;background-size:contain;flex:1;font-size:1em;text-indent:-9999px;overflow:hidden}.inputWrapper .extended[data-v-efa2321a]{width:70px;margin-left:7px}.inputWrapper .leftdummy[data-v-efa2321a]{width:.5em}.inputWrapper>div[data-v-efa2321a]{transition:.3s}.inputWrapper .center[data-v-efa2321a]{max-height:110px;max-width:100%;display:flex;justify-content:space-between;align-items:center;flex-grow:1;border:1px solid transparent;border-radius:30px;background:rgb(var(--background-main))}.inputWrapper input[data-v-efa2321a]{border:1px solid rgb(var(--neutral-grad-0));background:rgba(var(--background-main),.5);border-radius:30px;width:100%;padding:.5em 1em}.notready[data-v-efa2321a],.waitjoined[data-v-efa2321a]{padding:.5em 0;text-align:center}.waitjoined span[data-v-efa2321a]{font-size:.8em}.greetings[data-v-efa2321a]{padding:.5em 0}.greetings[data-v-efa2321a],[data-v-efa2321a] .iconWrapper{text-align:center}.menu-item[data-v-efa2321a]{padding:.5em;background:rgb(var(--background-total-theme));line-height:44px;border-radius:5px;display:flex}.menu-item .title[data-v-efa2321a]{flex-grow:2;padding-right:44px;text-align:center}.menu-item .iconWrapper[data-v-efa2321a]{width:44px}.tipusers[data-v-efa2321a]{position:absolute;max-height:300px;border-radius:.5em;border:1px solid rgba(var(--neutral-grad-0),.9);overflow-y:overlay;background-color:rgba(var(--background-total-theme),.95);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);padding:.25em 0;bottom:100%;margin-bottom:.5em;left:.25em;right:.25em}.tipusers .previewWrapperExt[data-v-efa2321a]{border-radius:.75em;margin-left:.25em;margin-right:.25em;padding-top:.25em;padding-bottom:.25em}.tipusers .previewWrapperExt[data-v-efa2321a] .previewWrapper{padding-left:.25em!important;padding-right:.25em!important}.tipusers .previewWrapperExt.selected[data-v-efa2321a]{background:rgb(var(--background-main))}.disabled[data-v-efa2321a]{display:flex;justify-content:center;align-items:center;width:35px;height:35px;color:rgb(var(--neutral-grad-3))}.disabled i[data-v-efa2321a]{padding-top:1px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./picturePreview.vue?vue&type=style&index=0&id=67c83356&prod&lang=sass&scoped=true&\"","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=style&index=0&id=1c67a904&prod&scoped=true&lang=sass&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./picturePreview.vue?vue&type=style&index=0&id=67c83356&prod&lang=sass&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"74bf3874\", content, shadowRoot)\n};","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=style&index=1&id=1c67a904&prod&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!./index.scss?vue&type=style&index=0&id=16750db8&prod&scoped=true&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"e4e3316e\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".mod-wrapper[data-v-75ceafe2]{position:absolute;top:0;left:0;justify-content:center;height:100%}.mod-wrapper[data-v-75ceafe2],.modal-window[data-v-75ceafe2]{display:flex;align-items:center;width:100%}.modal-window[data-v-75ceafe2]{border:1px solid rgb(var(--background-main));flex-direction:column;background-color:rgb(var(--background-total-theme));padding:1em;max-width:300px;margin:0 auto;border-radius:5px}.modal-window .btn[data-v-75ceafe2]{width:85%;padding:10px 5px;margin-top:25px;background-color:rgb(var(--color-bg-ac));border-radius:5px;color:#fff;cursor:pointer}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=24811d8d&prod&scoped=true&lang=sass&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=efa2321a&prod&scoped=true&lang=sass&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=24811d8d&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"460ffee1\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".wrapper[data-v-67c83356]{position:relative}.fas[data-v-67c83356]{position:absolute;right:-8px;top:-8px}.preview-picture[data-v-67c83356]{width:50px;height:50px;border-radius:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalWindow.vue?vue&type=style&index=0&id=75ceafe2&prod&lang=sass&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=style&index=0&id=1c67a904&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"da06d950\", content, shadowRoot)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!./index.scss?vue&type=style&index=0&id=16750db8&prod&scoped=true&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".input_component[data-v-1c67a904]{width:100%;display:flex;justify-content:center;align-items:center;padding:0 1em;padding-right:0}.input_component[data-v-1c67a904] .emoji-mart .emoji-mart-emoji{width:12.5%;height:40px;cursor:pointer}.input_component[data-v-1c67a904] .emoji-mart .emoji-mart-emoji span{cursor:pointer}.input_component[data-v-1c67a904] .emoji-mart .emoji-mart-emoji:hover{background:none;box-shadow:none}.input_component[data-v-1c67a904] .emoji-mart .emoji-mart-emoji:hover:before{display:none}.input_component .input-wrapper[data-v-1c67a904]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;width:100%}.input_component .right[data-v-1c67a904]{margin:0 .5em}.input_component .iconbutton .leftdummy[data-v-1c67a904]{width:20px}.input_component .iconbutton .rightdummy[data-v-1c67a904]{width:35px}.input_component .iconbutton .idummy[data-v-1c67a904]{width:100%;height:35px;line-height:35px}.input_component .iconbutton .idummy i[data-v-1c67a904]{line-height:35px!important}.input_component .previews[data-v-1c67a904]{width:100%;max-width:198px;height:30px;display:flex;align-items:flex-start;padding:2px 0;overflow:hidden}.input_component .previews[data-v-1c67a904]:first-child{margin-left:0}.input_component .textarea[data-v-1c67a904]{width:100%;display:flex;justify-content:flex-start;align-items:center}.chat-input[data-v-1c67a904]{background:transparent;border:0;width:100%;max-height:100px;overflow-y:auto;resize:none;line-height:inherit}.chat-input[data-v-1c67a904]::-webkit-scrollbar{width:0!important}.fade-enter-active[data-v-1c67a904],.fade-leave-active[data-v-1c67a904]{transition:all .2s ease-in}.fade-enter[data-v-1c67a904],.fade-leave-to[data-v-1c67a904]{opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".previewWrapper[data-v-24811d8d]{height:60px;position:absolute;top:0;width:100%;display:flex;align-items:center;justify-content:flex-start;padding:0;border-bottom:1px solid rgb(var(--background-main))}.previewWrapper .previewContact[data-v-24811d8d],.previewWrapper .previewContactSelect[data-v-24811d8d]{width:100%}.previewWrapper .previewBox[data-v-24811d8d]{width:100%;display:flex;justify-content:space-between;align-items:center}.previewWrapper .previewBox .previewWrapper[data-v-24811d8d]{flex-grow:1;width:100%}.previewWrapper .checkBox[data-v-24811d8d]{text-align:center;position:absolute;right:12px;top:50%;transform:translateY(-50%)}.previewWrapper[data-v-24811d8d]:last-child{border-bottom:0}.contactList[data-v-24811d8d]{margin-bottom:8px}.contactList .title[data-v-24811d8d]{padding:0 .5em}.contactList.minimized .title[data-v-24811d8d]{display:none}.contactList.minimized .previewWrapper[data-v-24811d8d]{padding:.5em 0;border-bottom:0;cursor:pointer}.contactList.minimized .previewWrapper[data-v-24811d8d]:last-child{border-bottom:0}.contactList.minimized .previewWrapper[data-v-24811d8d] .previewWrapper{padding:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=style&index=1&id=1c67a904&prod&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"682b031a\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".emoji-mart,.emoji-mart *{box-sizing:border-box;line-height:1.15}.emoji-mart{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,sans-serif;font-size:16px;display:flex;flex-direction:column;height:420px;color:#222427;border:1px solid #d9d9d9;border-radius:5px;background:#fff}.emoji-mart-emoji{padding:6px;border:none;background:none;box-shadow:none}.emoji-mart-emoji span{display:inline-block}.emoji-mart-preview-emoji .emoji-mart-emoji span{width:38px;height:38px;font-size:32px}.emoji-type-native{font-family:Segoe UI Emoji,Segoe UI Symbol,Segoe UI,Apple Color Emoji,Twemoji Mozilla,Noto Color Emoji,EmojiOne Color,Android Emoji;word-break:keep-all}.emoji-type-image{background-size:5700%}.emoji-type-image.emoji-set-apple{background-image:url(https://unpkg.com/emoji-datasource-apple@6.0.1/img/apple/sheets-256/64.png)}.emoji-type-image.emoji-set-facebook{background-image:url(https://unpkg.com/emoji-datasource-facebook@6.0.1/img/facebook/sheets-256/64.png)}.emoji-type-image.emoji-set-google{background-image:url(https://unpkg.com/emoji-datasource-google@6.0.1/img/google/sheets-256/64.png)}.emoji-type-image.emoji-set-twitter{background-image:url(https://unpkg.com/emoji-datasource-twitter@6.0.1/img/twitter/sheets-256/64.png)}.emoji-mart-bar{border:0 solid #d9d9d9}.emoji-mart-bar:first-child{border-bottom-width:1px;border-top-left-radius:5px;border-top-right-radius:5px}.emoji-mart-bar:last-child{border-top-width:1px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.emoji-mart-scroll{position:relative;overflow-y:scroll;flex:1;padding:0 6px 6px 6px;z-index:0;will-change:transform;-webkit-overflow-scrolling:touch}.emoji-mart-anchors{display:flex;flex-direction:row;justify-content:space-between;padding:0 6px;color:#858585;line-height:0}.emoji-mart-anchor{position:relative;display:block;flex:1 1 auto;text-align:center;padding:12px 4px;overflow:hidden;transition:color .1s ease-out;border:none;background:none;box-shadow:none}.emoji-mart-anchor-selected,.emoji-mart-anchor:hover{color:#464646}.emoji-mart-anchor-selected .emoji-mart-anchor-bar{bottom:0}.emoji-mart-anchor-bar{position:absolute;bottom:-3px;left:0;width:100%;height:3px;background-color:#464646}.emoji-mart-anchors i{display:inline-block;width:100%;max-width:22px}.emoji-mart-anchors svg{fill:currentColor;max-height:18px}.emoji-mart .scroller{height:250px;position:relative;flex:1;padding:0 6px 6px 6px;z-index:0;will-change:transform;-webkit-overflow-scrolling:touch}.emoji-mart-search{margin-top:6px;padding:0 6px}.emoji-mart-search input{font-size:16px;display:block;width:100%;padding:.2em .6em;border-radius:25px;border:1px solid #d9d9d9;outline:0}.emoji-mart-search-results{height:250px;overflow-y:scroll}.emoji-mart-category{position:relative}.emoji-mart-category .emoji-mart-emoji span{z-index:1;position:relative;text-align:center;cursor:default}.emoji-mart-category .emoji-mart-emoji:hover:before,.emoji-mart-emoji-selected:before{z-index:0;content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#f4f4f4;border-radius:100%;opacity:0;opacity:1}.emoji-mart-category-label{position:sticky;top:0}.emoji-mart-static .emoji-mart-category-label{z-index:2;position:relative}.emoji-mart-category-label h3{display:block;font-size:16px;width:100%;font-weight:500;padding:5px 6px;background-color:#fff;background-color:hsla(0,0%,100%,.95)}.emoji-mart-emoji{position:relative;display:inline-block;font-size:0}.emoji-mart-no-results{font-size:14px;text-align:center;padding-top:70px;color:#858585}.emoji-mart-no-results .emoji-mart-category-label{display:none}.emoji-mart-no-results .emoji-mart-no-results-label{margin-top:.2em}.emoji-mart-no-results .emoji-mart-emoji:hover:before{content:none}.emoji-mart-preview{position:relative;height:70px}.emoji-mart-preview-data,.emoji-mart-preview-emoji,.emoji-mart-preview-skins{position:absolute;top:50%;transform:translateY(-50%)}.emoji-mart-preview-emoji{left:12px}.emoji-mart-preview-data{left:68px;right:12px;word-break:break-all}.emoji-mart-preview-skins{right:30px;text-align:right}.emoji-mart-preview-name{font-size:14px}.emoji-mart-preview-shortname{font-size:12px;color:#888}.emoji-mart-preview-emoticon+.emoji-mart-preview-emoticon,.emoji-mart-preview-shortname+.emoji-mart-preview-emoticon,.emoji-mart-preview-shortname+.emoji-mart-preview-shortname{margin-left:.5em}.emoji-mart-preview-emoticon{font-size:11px;color:#bbb}.emoji-mart-title span{display:inline-block;vertical-align:middle}.emoji-mart-title .emoji-mart-emoji{padding:0}.emoji-mart-title-label{color:#999a9c;font-size:21px;font-weight:300}.emoji-mart-skin-swatches{font-size:0;padding:2px 0;border:1px solid #d9d9d9;border-radius:12px;background-color:#fff}.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch{width:16px;padding:0 2px}.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch-selected:after{opacity:.75}.emoji-mart-skin-swatch{display:inline-block;width:0;vertical-align:middle;transition-property:width,padding;transition-duration:.125s;transition-timing-function:ease-out}.emoji-mart-skin-swatch:first-child{transition-delay:0s}.emoji-mart-skin-swatch:nth-child(2){transition-delay:.03s}.emoji-mart-skin-swatch:nth-child(3){transition-delay:.06s}.emoji-mart-skin-swatch:nth-child(4){transition-delay:.09s}.emoji-mart-skin-swatch:nth-child(5){transition-delay:.12s}.emoji-mart-skin-swatch:nth-child(6){transition-delay:.15s}.emoji-mart-skin-swatch-selected{position:relative;width:16px;padding:0 2px}.emoji-mart-skin-swatch-selected:after{content:\\\"\\\";position:absolute;top:50%;left:50%;width:4px;height:4px;margin:-2px 0 0 -2px;background-color:#fff;border-radius:100%;pointer-events:none;opacity:0;transition:opacity .2s ease-out}.emoji-mart-skin{display:inline-block;width:100%;padding-top:100%;max-width:12px;border-radius:100%}.emoji-mart-skin-tone-1{background-color:#ffc93a}.emoji-mart-skin-tone-2{background-color:#fadcbc}.emoji-mart-skin-tone-3{background-color:#e0bb95}.emoji-mart-skin-tone-4{background-color:#bf8f68}.emoji-mart-skin-tone-5{background-color:#9b643d}.emoji-mart-skin-tone-6{background-color:#594539}.emoji-mart .vue-recycle-scroller{position:relative}.emoji-mart .vue-recycle-scroller.direction-vertical:not(.page-mode){overflow-y:auto}.emoji-mart .vue-recycle-scroller.direction-horizontal:not(.page-mode){overflow-x:auto}.emoji-mart .vue-recycle-scroller.direction-horizontal{display:flex}.emoji-mart .vue-recycle-scroller__slot{flex:auto 0 0}.emoji-mart .vue-recycle-scroller__item-wrapper{flex:1;box-sizing:border-box;overflow:hidden;position:relative}.emoji-mart .vue-recycle-scroller.ready .vue-recycle-scroller__item-view{position:absolute;top:0;left:0;will-change:transform}.emoji-mart .vue-recycle-scroller.direction-vertical .vue-recycle-scroller__item-wrapper{width:100%}.emoji-mart .vue-recycle-scroller.direction-horizontal .vue-recycle-scroller__item-wrapper{height:100%}.emoji-mart .vue-recycle-scroller.ready.direction-vertical .vue-recycle-scroller__item-view{width:100%}.emoji-mart .vue-recycle-scroller.ready.direction-horizontal .vue-recycle-scroller__item-view{height:100%}.emoji-mart .resize-observer[data-v-b329ee4c]{border:none;background-color:transparent;opacity:0}.emoji-mart .resize-observer[data-v-b329ee4c],.emoji-mart .resize-observer[data-v-b329ee4c] object{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;pointer-events:none;display:block;overflow:hidden}.emoji-mart-search .hidden{display:none;visibility:hidden}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".recordProgress[data-v-5df29904]{display:flex;height:20px;justify-content:flex-start;padding:0 1em;align-items:center;max-width:80%;flex-grow:2}.recordProgress .indicatorWrapper[data-v-5df29904]{min-width:20px;width:20px;margin-right:1em;display:flex;justify-content:center;align-items:center}.recordProgress .indicator[data-v-5df29904]{height:6px;width:6px;background:#ff033e;border-radius:50%}.recordProgress .indicator.recording[data-v-5df29904]{animation:pulse-5df29904 1.2s ease infinite}.recordProgress .del[data-v-5df29904]{min-width:20px;cursor:pointer;display:flex;justify-content:center;align-items:center;width:20px;height:20px;margin-right:1em}.recordProgress .del i[data-v-5df29904]{color:red;font-size:13px}.recordProgress .timer[data-v-5df29904]{margin-right:1em}.recordProgress .graph[data-v-5df29904]{margin:0 auto;width:100px;overflow:hidden;border-radius:15px}.cancel[data-v-5df29904],.recordProgress .graph[data-v-5df29904]{display:flex;justify-content:center}.cancel[data-v-5df29904]{position:absolute;left:0;right:0;top:0;bottom:0;background:rgb(var(--background-secondary-theme));opacity:0;text-align:center;align-items:center}.cancel span[data-v-5df29904]{white-space:nowrap;font-size:.9em}@keyframes pulse-5df29904{0%{opacity:1}50%{opacity:.1}to{opacity:1}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalWindow.vue?vue&type=style&index=0&id=75ceafe2&prod&lang=sass&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"eb3034c4\", content, shadowRoot)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!./index.scss?vue&type=style&index=0&id=5df29904&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"contactList\",class:{ minimized: _vm.minimized }},[_c('RecycleScroller',{staticClass:\"scroller\",attrs:{\"page-mode\":\"\",\"items\":_vm.users,\"item-size\":60,\"key-field\":\"id\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ item }){return [_c('div',{staticClass:\"previewWrapper minimizeex\"},[(_vm.mode === 'Contacts' || _vm.mode === 'Select')?_c('div',{staticClass:\"previewContact\",on:{\"click\":function($event){return _vm.navigateToProfile(item.id, item)}}},[_c('preview',{attrs:{\"contact\":item,\"mode\":_vm.mode}})],1):_vm._e(),(_vm.mode === 'Selectmany')?_c('div',{staticClass:\"previewBox\",on:{\"click\":function($event){return _vm.toggleUser(item)}}},[_c('div',{staticClass:\"previewContactSelect\"},[_c('preview',{attrs:{\"mode\":_vm.mode,\"contact\":item}})],1),_c('div',{staticClass:\"checkBox\"},[(_vm.selected[item.id])?_c('i',{staticClass:\"far fa-check-circle\"}):_vm._e(),(!_vm.selected[item.id])?_c('i',{staticClass:\"far fa-circle\"}):_vm._e()])]):_vm._e()])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mod-wrapper\"},[_c('div',{staticClass:\"modal-window\"},[_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.message))]),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.close}},[_vm._v(\"OK\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"mod-wrapper\">\n\t\t<div class=\"modal-window\">\n\t\t\t<span class=\"message\">{{ message }}</span>\n\t\t\t<button class=\"btn\" @click=\"close\">OK</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"ModalWindow\",\n\tprops: [\"message\"],\n\n\tmethods: {\n\t\tclose() {\n\t\t\tthis.$emit(\"Close\");\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"sass\" scoped>\n.mod-wrapper\n    position: absolute\n    top: 0\n    left: 0\n    display: flex\n    justify-content: center\n    align-items: center\n    width: 100%\n    height: 100%\n\n.modal-window\n    width: 100%\n    border : 1px solid srgb(--background-main)\n    display: flex\n    flex-direction: column\n    align-items: center\n    background-color: srgb(--background-total-theme)\n    padding: 2 * $r\n    max-width: 300px\n    margin : 0 auto\n    border-radius: 5px\n\n    .btn\n        width: 85%\n        padding: 10px 5px\n        margin-top: 25px\n        background-color: srgb(--color-bg-ac)\n        border-radius: 5px\n        color: white\n        cursor: pointer\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalWindow.vue?vue&type=template&id=75ceafe2&scoped=true&\"\nimport script from \"./ModalWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalWindow.vue?vue&type=style&index=0&id=75ceafe2&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75ceafe2\",\n  null\n  \n)\n\nexport default component.exports","import { mapActions, mapGetters, mapState } from \"vuex\";\nimport preview from \"@/components/contacts/preview/index.vue\";\nimport ModalWindow from \"@/components/utils/ModalWindow.vue\";\n\nexport default {\n\tname: \"contactsList\",\n\tdata: function () {\n\t\treturn {\n\t\t\tloading: false,\n\t\t};\n\t},\n\tcomponents: {\n\t\tpreview,\n\t\tModalWindow,\n\t},\n\n\tprops: {\n\t\tmode: {\n\t\t\tdefault: \"\",\n\t\t\ttype: String,\n\t\t},\n\t\tusers: Array,\n\t\tselected: Object,\n\t\ttitle: String,\n\t},\n\n\twatch: {\n\t\t//$route: 'getdata'\n\t},\n\n\tcomputed: mapState({\n\t\tauth: (state) => state.auth,\n\t\tminimized: (state) => state.minimized,\n\n\t\t...mapActions([\"PREPARE_USERDATA\"]),\n\n\t\t...mapState([\"contactsMap\", \"signedUpUsers\"]),\n\t}),\n\n\tmethods: {\n\t\tselect(contact) {\n\t\t\tthis.$emit(\"select\", contact);\n\t\t},\n\n\t\tnavigateToProfile(id, contact) {\n\t\t\tif (this.mode == \"Select\") {\n\t\t\t\tthis.select(contact);\n\t\t\t} else {\n\t\t\t\tthis.$router.push({ path: `/contact?id=${id}` }).catch((e) => {});\n\t\t\t}\n\t\t},\n\n\t\ttoggleUser(contact) {\n\t\t\tthis.$emit(\"toggleUser\", contact.id);\n\t\t},\n\t},\n\n\tmounted() {},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=24811d8d&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.sass?vue&type=style&index=0&id=24811d8d&prod&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24811d8d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"noswipepnt\",attrs:{\"id\":\"chatInput\"}},[(_vm.ready)?_c('div',{staticClass:\"work\"},[(_vm.chat)?_c('div',{staticClass:\"inputWrapper\",class:{ donate: _vm.donate }},[(_vm.tipusers.length)?_c('div',{staticClass:\"tipusers\"},_vm._l((_vm.tipusers),function(user,i){return _c('div',{key:user.id,staticClass:\"previewWrapperExt\",class:{ selected: _vm.tipuserindex == i },on:{\"click\":function($event){return _vm.insertuser(user)}}},[_c('preview',{attrs:{\"contact\":user,\"mode\":\"\"}})],1)}),0):_vm._e(),_c('div',{staticClass:\"center\"},[(_vm.voiceEnable && (_vm.isRecording || _vm.record))?_c('record-progress',{attrs:{\"recordTime\":_vm.recordTime,\"isRecording\":_vm.isRecording,\"rmsData\":_vm.recordRmsData,\"opacity\":_vm.cancelOpacity},on:{\"onClear\":_vm.clear}}):_c('InputField',{ref:\"newinput\",attrs:{\"donate\":_vm.donate,\"storagekey\":'chatinput' + _vm.chat.roomId,\"tipusers\":_vm.tipusers,\"me\":_vm.me},on:{\"chatMessage\":_vm.sendinput,\"emptyInput\":_vm.emitInputData,\"FilledInput\":_vm.HideUploadPic,\"base64\":_vm.pasteImage,\"focused\":_vm.focused,\"tipsearchrequest\":_vm.tipBySearch,\"browsetip\":_vm.browsetip,\"selectcurrenttip\":_vm.selectcurrenttip,\"donateaction\":_vm.sendtransactionWrapper}}),(!_vm.streamMode && _vm.upload && _vm.chat)?_c('div',{staticClass:\"left\",class:{ extended: _vm.voiceEnable }},[(!_vm.isRecording && !_vm.record)?_c('div',{staticClass:\"iconbutton\",on:{\"click\":_vm.showinputmenu}},[_c('i',{staticClass:\"icon fas fa-plus\"})]):_vm._e(),(_vm.voiceEnable)?[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRecording || !_vm.record),expression:\"isRecording || !record\"}],staticClass:\"iconbutton\"},[_c('recordVoice',{attrs:{\"prepareRecording\":_vm.prepareRecording ? true : false,\"isRecording\":_vm.isRecording,\"disabled\":_vm.microphoneDisabled},on:{\"onRecordingStart\":_vm.initRecording,\"onRecordingStop\":_vm.stopRecording,\"onClear\":_vm.clear,\"canceling\":_vm.setOpacity}})],1)]:_vm._e(),(!_vm.isRecording && _vm.record)?_c('div',{staticClass:\"iconbutton\",on:{\"click\":(e) => {\n\t\t\t\t\t\t\t\t_vm.sendVoiceMessage();\n\t\t\t\t\t\t\t}}},[_vm._m(0)]):_vm._e()],2):_vm._e()],1),(_vm.donate)?_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"count\"},[_c('i',{staticClass:\"icon donate\"},[_vm._v(\"Donate\")]),_c('span',{staticClass:\"sum\"},[_vm._v(_vm._s(_vm.donate.value)+\" PKOIN\")])]),_c('i',{staticClass:\"icon remove fa fa-times\",on:{\"click\":_vm.removetransaction}})]):_vm._e()]):_vm._e()]):_c('div',{staticClass:\"notready\"},[_c('linepreloader')],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('i',{staticClass:\"icon fas fa-paper-plane\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"input_component\"},[_c('div',{staticClass:\"input-wrapper\"},[_c('div',{staticClass:\"textarea\"},[_c('textarea',{ref:\"textarea\",staticClass:\"chat-input\",attrs:{\"id\":\"textInput\",\"type\":\"text\",\"row\":\"1\",\"spellcheck\":\"true\",\"autocorrect\":\"on\",\"placeholder\":_vm.$t('caption.sendmessage')},domProps:{\"value\":_vm.text},on:{\"focus\":_vm.focused,\"blur\":_vm.blured,\"keydown\":_vm.keydown,\"input\":_vm.textchange,\"keyup\":_vm.keyup,\"click\":_vm.keyup,\"paste\":_vm.paste_image}}),(!_vm.streamMode && !_vm.mobile && _vm.emojiIndex)?_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.display_emoji),expression:\"display_emoji\"},{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.close_emoji_picker),expression:\"close_emoji_picker\"}],style:({\n\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tbottom: '48px',\n\t\t\t\t\t\tright: '0px',\n\t\t\t\t\t\tleft : '0px',\n\t\t\t\t\t\tfontSize: '0.8em',\n\t\t\t\t\t\tfontFamily: 'Segoe UI',\n\t\t\t\t\t}),attrs:{\"data\":_vm.emojiIndex,\"exclude\":_vm.exclude,\"showPreview\":false,\"showSearch\":false},on:{\"select\":_vm.insert_emoji}})],1):_vm._e()],1)]),(!_vm.streamMode && !_vm.mobile)?_c('div',{staticClass:\"iconbutton emojipicker\",on:{\"click\":function($event){return _vm.toggle_emoji_picker()}}},[_c('div',{staticClass:\"leftdummy\"},[_c('div',{staticClass:\"idummy\"},[(_vm.display_emoji)?_c('i',{staticClass:\"fas fa-times\"}):_c('i',{staticClass:\"far fa-smile\"})])])]):_vm._e(),(_vm.streamMode && !_vm.me && !_vm.pkoindisabled)?_c('div',{staticClass:\"iconbutton\",attrs:{\"disabled\":_vm.donate},on:{\"click\":_vm.donateAction}},[_vm._m(0)]):_vm._e(),(_vm.send)?_c('div',{staticClass:\"iconbutton\",on:{\"click\":function($event){return _vm.send_text($event)}}},[_vm._m(1)]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rightdummy\"},[_c('div',{staticClass:\"idummy\"},[_c('i',{staticClass:\"icon donate\"},[_vm._v(\"Donate\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rightdummy\"},[_c('div',{staticClass:\"idummy\"},[_c('i',{staticClass:\"far fa-paper-plane\"})])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.is_opened)?_c('div',{staticClass:\"wrapper\"},[_c('img',{staticClass:\"preview-picture\",attrs:{\"src\":_vm.base64,\"alt\":\"picture preview\"}}),_c('i',{staticClass:\"fas fa-times fa-sm\",on:{\"click\":_vm.hide}})]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-if=\"is_opened\" class=\"wrapper\">\n\t\t<img class=\"preview-picture\" :src=\"base64\" alt=\"picture preview\" />\n\t\t<i @click=\"hide\" class=\"fas fa-times fa-sm\"></i>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"picturePreview\",\n\tprops: [\"base64\"],\n\n\tdata() {\n\t\treturn {\n\t\t\tis_opened: true,\n\t\t};\n\t},\n\n\tmethods: {\n\t\thide() {\n\t\t\tthis.is_opened = false;\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"sass\" scoped>\n.wrapper\n    position: relative\n\n.fas\n    position: absolute\n    right: -8px\n    top: -8px\n\n.preview-picture\n    width: 50px\n    height: 50px\n    border-radius: 10px\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./picturePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./picturePreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./picturePreview.vue?vue&type=template&id=67c83356&scoped=true&\"\nimport script from \"./picturePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./picturePreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./picturePreview.vue?vue&type=style&index=0&id=67c83356&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67c83356\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"input_component\">\n\t\t<div class=\"input-wrapper\">\n\t\t\t<div class=\"textarea\">\n\t\t\t\t<textarea\n\t\t\t\t\tid=\"textInput\"\n\t\t\t\t\t:value=\"text\"\n\t\t\t\t\tref=\"textarea\"\n\t\t\t\t\tclass=\"chat-input\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\trow=\"1\"\n\t\t\t\t\tspellcheck=\"true\"\n\t\t\t\t\tautocorrect=\"on\"\n\t\t\t\t\t@focus=\"focused\"\n\t\t\t\t\t@blur=\"blured\"\n\t\t\t\t\t@keydown=\"keydown\"\n\t\t\t\t\t@input=\"textchange\"\n\t\t\t\t\t@keyup=\"keyup\"\n\t\t\t\t\t@click=\"keyup\"\n\t\t\t\t\t@paste=\"paste_image\"\n\t\t\t\t\t:placeholder=\"$t('caption.sendmessage')\"\n\t\t\t\t></textarea>\n\t\t\t\t<transition name=\"fade\" mode=\"out-in\" v-if=\"!streamMode && !mobile && emojiIndex\">\n\t\t\t\t\t<picker\n\t\t\t\t\t\t:data=\"emojiIndex\"\n\t\t\t\t\t\tv-show=\"display_emoji\"\n\t\t\t\t\t\t@select=\"insert_emoji\"\n\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tbottom: '48px',\n\t\t\t\t\t\t\tright: '0px',\n\t\t\t\t\t\t\tleft : '0px',\n\t\t\t\t\t\t\tfontSize: '0.8em',\n\t\t\t\t\t\t\tfontFamily: 'Segoe UI',\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t:exclude=\"exclude\"\n\t\t\t\t\t\t:showPreview=\"false\"\n\t\t\t\t\t\t:showSearch=\"false\"\n\t\t\t\t\t\tv-click-outside=\"close_emoji_picker\"\n\t\t\t\t\t/>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"iconbutton emojipicker\"\n\t\t\t@click=\"toggle_emoji_picker()\"\n\t\t\tv-if=\"!streamMode && !mobile\"\n\t\t>\n\t\t\t<div class=\"leftdummy\">\n\t\t\t\t<div class=\"idummy\">\n\t\t\t\t\t<i v-if=\"display_emoji\" class=\"fas fa-times\"></i>\n\t\t\t\t\t<i v-else class=\"far fa-smile\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"iconbutton\"\n\t\t\tv-if=\"streamMode && !me && !pkoindisabled\"\n\t\t\t@click=\"donateAction\"\n\t\t\t:disabled=\"donate\"\n\t\t>\n\t\t\t<div class=\"rightdummy\">\n\t\t\t\t<div class=\"idummy\">\n\t\t\t\t\t<i class=\"icon donate\">Donate</i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"iconbutton\" v-if=\"send\" @click=\"send_text($event)\">\n\t\t\t<div class=\"rightdummy\">\n\t\t\t\t<div class=\"idummy\">\n\t\t\t\t\t<i class=\"far fa-paper-plane\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Images from \"@/application/utils/images.js\";\nimport f from \"@/application/functions\";\nimport { Picker, EmojiIndex } from \"emoji-mart-vue-fast\";\n\nimport vClickOutside from \"v-click-outside\";\n\nimport picturePreview from \"@/components/chat/input/picturePreview/picturePreview\";\n\nlet images = new Images();\n\nexport default {\n\tname: \"InputField\",\n\tcomponents: {\n\t\tPicker,\n\t\tpicturePreview,\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive,\n\t},\n\n\tinject: ['streamMode'],\n\n\twatch: {\n\t\ttext: {\n\t\t\timmediately: true,\n\t\t\thandler: function (current, prev) {\n\t\t\t\tif (current) {\n\t\t\t\t\tthis.send = true;\n\t\t\t\t\tthis.$emit(\"FilledInput\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.send = false;\n\t\t\t\t\tthis.$emit(\"emptyInput\");\n\t\t\t\t}\n\n\t\t\t\tthis.textarea_resize();\n\t\t\t},\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsend: false,\n\n\t\t\tready: false,\n\t\t\ttext: \"\",\n\t\t\texclude: [\"flags\"],\n\t\t\tdisplay_emoji: false,\n\t\t\tcontent_height: 26,\n\t\t\tpasted_data: [],\n\t\t\tblock: false,\n\n\t\t\tupload: {\n\t\t\t\tmultiple: true,\n\t\t\t\textensions: [\"image/jpg\", \"image/jpeg\", \"image/png\"],\n\t\t\t\timages: {\n\t\t\t\t\tresize: {\n\t\t\t\t\t\ttype: \"fit\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\thidden_previews: null,\n\t\t\temojiIndex: null,\n\t\t};\n\t},\n\n\tcomputed: {\n\t\tmobile: function () {\n\t\t\treturn !this.$store.state.pocketnet && this.$store.state.mobile;\n\t\t},\n\n\t\tpkoindisabled: function () {\n\t\t\treturn this.$store.state.pkoindisabled;\n\t\t}\n\n\t\t/*emojiIndex: function () {\n\n\n\n\t\t\treturn window.emojiIndex\n\n\t\t}*/\n\t},\n\n\tmethods: {\n\t\tprepareemoji: function () {\n\t\t\tif (!this.mobile) {\n\t\t\t\tif (window.emojiIndex) this.emojiIndex = window.emojiIndex;\n\t\t\t\telse {\n\t\t\t\t\tvar emojidata = require(\"emoji-mart-vue-fast/data/all.json\");\n\t\t\t\t\twindow.emojiIndex = new EmojiIndex(emojidata);\n\t\t\t\t\tthis.emojiIndex = window.emojiIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetText: function (text) {\n\t\t\tthis.text = text;\n\n\t\t\tthis.savetextinstorage();\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.textarea_resize();\n\t\t\t\tthis.focus();\n\t\t\t});\n\t\t},\n\n\t\tfocused: function () {\n\t\t\tthis.$emit(\"focused\");\n\t\t},\n\n\t\ttextchange: function (e) {\n\t\t\tthis.text = e.target.value || \"\";\n\t\t},\n\n\t\tsavetextinstorage: function () {\n\t\t\tif (this.storagekey) {\n\t\t\t\tlocalStorage[this.storagekey] = this.text || \"\";\n\t\t\t}\n\t\t},\n\t\tsend_empty_array() {\n\t\t\tthis.$emit(\"userSearched\", []);\n\t\t},\n\n\t\tfocus() {\n\t\t\tthis.$refs[\"textarea\"].focus();\n\t\t},\n\n\t\tblur() {\n\t\t\tthis.$refs[\"textarea\"].blur();\n\t\t},\n\n\t\tblurifempty() {\n\t\t\tif (!this.text) this.blur();\n\t\t},\n\n\t\tclose_emoji_picker(event) {\n\t\t\tif (event.target.localName !== \"i\") {\n\t\t\t\tif (event.target.localName !== \"matrix-element\") {\n\t\t\t\t\tthis.display_emoji = false;\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttextarea_resize() {\n\t\t\tif (!this.text) {\n\t\t\t\tthis.textarea_resize_reset();\n\t\t\t} else {\n\t\t\t\tthis.$refs.textarea.style.height = 1 + \"px\";\n\t\t\t\tvar a = 0\n\t\n\t\t\t\tif(this.text[this.text.length - 1] == '\\n') a = 20\n\n\t\t\t\tthis.$refs.textarea.style.height = (this.$refs.textarea.scrollHeight + a) + \"px\";\n\t\t\t\t//this.display_emoji = false;\n\t\t\t}\n\t\t},\n\n\t\ttextarea_resize_reset() {\n\t\t\tthis.$refs.textarea.style.height = this.content_height + \"px\";\n\t\t},\n\t\ttoggle_emoji_picker() {\n\t\t\tthis.display_emoji = !this.display_emoji;\n\t\t},\n\n\t\tsend_text(event) {\n\t\t\tif (this.text && this.text !== \"\\n\") {\n\t\t\t\tthis.display_emoji = false;\n\t\t\t\tthis.$emit(\"chatMessage\", this.text);\n\t\t\t\tthis.$emit(\"emptyInput\");\n\t\t\t\tthis.send = false;\n\t\t\t\tthis.text = \"\";\n\t\t\t}\n\n\t\t\tthis.savetextinstorage();\n\t\t},\n\n\t\tinsert_emoji(emoji) {\n\t\t\tthis.text += emoji.native;\n\n\t\t\tthis.savetextinstorage();\n\t\t},\n\t\tpaste_image(event) {\n\t\t\tif (!this.streamMode) this.get_base64(event);\n\t\t},\n\t\tget_base64(event) {\n\t\t\tthis.pasted_data = event.clipboardData.items;\n\n\t\t\tif (this.pasted_data.length) {\n\t\t\t\tfor (let index in this.pasted_data) {\n\t\t\t\t\tlet item = this.pasted_data[index];\n\n\t\t\t\t\tlet correct_image_type = this.upload.extensions.includes(item.type);\n\n\t\t\t\t\tif (correct_image_type) {\n\t\t\t\t\t\tvar blob = item.getAsFile();\n\t\t\t\t\t\tvar reader = new FileReader();\n\n\t\t\t\t\t\treader.onload = (event) => {\n\t\t\t\t\t\t\tthis.$dialog\n\t\t\t\t\t\t\t\t.confirm(\"Do you really want to send attachment?\", {\n\t\t\t\t\t\t\t\t\tokText: \"Yes\",\n\t\t\t\t\t\t\t\t\tcancelText: \"No, cancel\",\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t.then((dialog) => {\n\t\t\t\t\t\t\t\t\tvar base64 = event.target.result;\n\t\t\t\t\t\t\t\t\tthis.resize_image(base64, item.type);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tresize_image(data, type) {\n\t\t\treturn images\n\t\t\t\t.autorotation(null, data)\n\t\t\t\t.then((base64) => {\n\t\t\t\t\tlet _type = this.upload.images.resize.type || \"def\";\n\n\t\t\t\t\treturn images.resize[_type](base64, 1024, 1024, type, 0.9)\n\t\t\t\t\t\t.then((base64) => {\n\t\t\t\t\t\t\tthis.$emit(\"base64\", base64);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => console.error(\"Failed to resize image\", error));\n\t\t\t\t})\n\t\t\t\t.catch((error) => console.error(\"Failed to resize image\", error));\n\t\t},\n\n\t\tgetsearchposition(position) {\n\t\t\tif (!position.start || !this.text.length) return null;\n\n\t\t\tvar sposition = { start: position.start, middle: 0, end: position.end };\n\n\t\t\tvar i = position.start;\n\t\t\tvar dg = false;\n\t\t\tvar br = false;\n\n\t\t\tvar reg = /[a-zA-Z0-9]{1}/;\n\n\t\t\tsposition.middle = i;\n\n\t\t\tdo {\n\t\t\t\tvar char = this.text[i];\n\n\t\t\t\tif (char == \"@\") {\n\t\t\t\t\tif (position.start == i || (i > 0 && reg.test(this.text[i - 1]))) {\n\t\t\t\t\t\tbr = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdg = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (reg.test(char)) {\n\t\t\t\t\t\tsposition.start = i;\n\t\t\t\t\t} else br = true;\n\t\t\t\t}\n\n\t\t\t\ti--;\n\t\t\t} while (i >= 0 && i <= position.start && !dg && !br);\n\n\t\t\tif (!dg) {\n\t\t\t\tsposition = null;\n\t\t\t} else {\n\t\t\t\tbr = false;\n\t\t\t\ti = position.end;\n\n\t\t\t\tdo {\n\t\t\t\t\tif (!this.text[i] || reg.test(this.text[i])) {\n\t\t\t\t\t\tsposition.end = i;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbr = true;\n\t\t\t\t\t}\n\n\t\t\t\t\ti++;\n\t\t\t\t} while (i <= this.text.length && !br);\n\t\t\t}\n\n\t\t\treturn sposition;\n\t\t},\n\n\t\tgetsearch(position) {\n\t\t\tvar sposition = this.getsearchposition(position);\n\n\t\t\tif (!sposition) return null;\n\n\t\t\treturn this.text.substring(sposition.start, sposition.middle);\n\t\t},\n\n\t\tkeydown(event) {\n\t\t\tif (event.keyCode === 40 || event.keyCode === 38) {\n\t\t\t\tif (this.tipusers && this.tipusers.length) {\n\t\t\t\t\tthis.$emit(\"browsetip\", event.keyCode === 40 ? true : false);\n\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (event.keyCode === 39 || event.keyCode === 13) {\n\t\t\t\tif (this.tipusers && this.tipusers.length) {\n\t\t\t\t\tthis.$emit(\"selectcurrenttip\");\n\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (event.keyCode === 13) {\n\t\t\t\tif (this.mobile || event.ctrlKey) {\n\t\t\t\t\tthis.text = this.text + \"\\n\";\n\t\t\t\t} else {\n\t\t\t\t\tthis.send_text(event);\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tkeyup(event) {\n\t\t\tif (this.block) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar position = f.getCaretPosition(this.$refs[\"textarea\"]);\n\n\t\t\tvar value = this.getsearch(position);\n\n\t\t\tthis.$emit(\"tipsearchrequest\", value);\n\n\t\t\tthis.savetextinstorage();\n\t\t},\n\n\t\tblured() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$emit(\"tipsearchrequest\", null);\n\t\t\t}, 300);\n\t\t},\n\n\t\tinserttip(text) {\n\t\t\tthis.$emit(\"tipsearchrequest\", null);\n\n\t\t\tthis.block = true;\n\t\t\tthis.$refs[\"textarea\"];\n\n\t\t\tvar position = this.getsearchposition(\n\t\t\t\tf.getCaretPosition(this.$refs[\"textarea\"])\n\t\t\t);\n\n\t\t\tthis.text =\n\t\t\t\tthis.text.substring(0, position.start) +\n\t\t\t\ttext +\n\t\t\t\tthis.text.substring(position.end + 1);\n\n\t\t\tif (!this.text[position.end + 1]) {\n\t\t\t\tthis.text = this.text + \" \";\n\t\t\t}\n\n\t\t\tif (!this.text[position.end + 1] == \" \") position.end++;\n\n\t\t\tf.setCaretPosition(\n\t\t\t\tthis.$refs[\"textarea\"],\n\t\t\t\tposition.end + 1,\n\t\t\t\tposition.end + 1\n\t\t\t);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.block = false;\n\t\t\t}, 350);\n\t\t},\n\n\t\tdonateAction: function () {\n\t\t\tthis.$emit(\"donateaction\");\n\t\t}\n\t},\n\n\tprops: {\n\t\tdonate: Object,\n\t\tstoragekey: String,\n\t\ttipusers: Array,\n\t\tme: Boolean\n\t},\n\n\tcreared() {},\n\n\tmounted() {\n\t\tif (!this.mobile && !this.streamMode) {\n\t\t\t\n\t\t\tthis.focus();\n\t\t}\n\n\t\tthis.prepareemoji();\n\n\t\tthis.$refs.textarea.style.height = \"26px\";\n\n\t\tif (this.storagekey && localStorage[this.storagekey]) {\n\t\t\tthis.text = localStorage[this.storagekey];\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.textarea_resize()\n\t\t\t}, 50)\n\t\t}\n\t},\n};\n</script>\n\n<style scoped lang=\"sass\">\n.input_component\n\twidth: 100%\n\tdisplay: flex\n\tjustify-content: center\n\talign-items: center\n\tpadding: 0 2 * $r\n\tpadding-right: 0\n\n\t/deep/ .emoji-mart .emoji-mart-emoji\n\t\twidth: 12.5%\n\t\theight: 40px\n\t\tcursor: pointer\n\n\t\tspan\n\t\t\tcursor: pointer\n\n\t\t&:hover\n\t\t\tbackground: none\n\t\t\tbox-shadow: none\n\n\t\t\t&:before\n\t\t\t\tdisplay: none\n\n\t.input-wrapper\n\t\tdisplay: flex\n\t\tflex-direction: column\n\t\tjustify-content: center\n\t\talign-items: flex-start\n\t\twidth: 100%\n\n\t.right\n\t\tmargin: 0 $r\n\n\t.iconbutton\n\n\t\t.leftdummy\n\t\t\twidth: 20px\n\n\t\t.rightdummy\n\t\t\twidth: 35px\n\n\t\t.idummy\n\t\t\twidth: 100%\n\t\t\theight: 35px\n\t\t\tline-height: 35px\n\n\t\t\ti\n\t\t\t\tline-height: 35px !important\n\n\t.previews\n\t\twidth: 100%\n\t\tmax-width: 198px\n\t\theight: 30px\n\t\tdisplay: flex\n\t\talign-items: flex-start\n\t\tpadding: 2px 0\n\t\toverflow: hidden\n\n\t\t&:first-child\n\t\t\tmargin-left: 0\n\n\n\t.textarea\n\t\twidth: 100%\n\t\tdisplay: flex\n\t\tjustify-content: flex-start\n\t\talign-items: center\n\n.chat-input\n\tbackground: transparent\n\tborder: 0\n\twidth: 100%\n\tmax-height: 100px\n\t// min-height: 26px\n\toverflow-y: auto\n\tresize: none\n\tline-height: inherit\n\n\t&::-webkit-scrollbar\n\t\twidth: 0 !important\n\n.fade-enter-active, .fade-leave-active\n\ttransition: all .2s ease-in\n\n.fade-enter, .fade-leave-to\n\topacity: 0\n</style>\n\n\n<style>\n.emoji-mart,\n.emoji-mart * {\n\tbox-sizing: border-box;\n\tline-height: 1.15;\n}\n\n.emoji-mart {\n\tfont-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;\n\tfont-size: 16px;\n\t/* display: inline-block; */\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 420px;\n\tcolor: #222427;\n\tborder: 1px solid #d9d9d9;\n\tborder-radius: 5px;\n\tbackground: #fff;\n}\n\n.emoji-mart-emoji {\n\tpadding: 6px;\n\tposition: relative;\n\tdisplay: inline-block;\n\tfont-size: 0;\n\tborder: none;\n\tbackground: none;\n\tbox-shadow: none;\n}\n\n.emoji-mart-emoji span {\n\tdisplay: inline-block;\n}\n\n.emoji-mart-preview-emoji .emoji-mart-emoji span {\n\twidth: 38px;\n\theight: 38px;\n\tfont-size: 32px;\n}\n\n.emoji-type-native {\n\tfont-family: 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI',\n\t\t'Apple Color Emoji', 'Twemoji Mozilla', 'Noto Color Emoji', 'EmojiOne Color',\n\t\t'Android Emoji';\n\tword-break: keep-all;\n}\n\n.emoji-type-image {\n\t/* Emoji sheet has 56 columns, see also utils/emoji-data.js, SHEET_COLUMNS variable */\n\t/* Here we use (56+1) * 100% to avoid visible edges of nearby icons when scaling for different\n\t * screen sizes */\n\tbackground-size: 5700%;\n}\n.emoji-type-image.emoji-set-apple {\n\tbackground-image: url(\"https://unpkg.com/emoji-datasource-apple@6.0.1/img/apple/sheets-256/64.png\");\n}\n.emoji-type-image.emoji-set-facebook {\n\tbackground-image: url(\"https://unpkg.com/emoji-datasource-facebook@6.0.1/img/facebook/sheets-256/64.png\");\n}\n.emoji-type-image.emoji-set-google {\n\tbackground-image: url(\"https://unpkg.com/emoji-datasource-google@6.0.1/img/google/sheets-256/64.png\");\n}\n.emoji-type-image.emoji-set-twitter {\n\tbackground-image: url(\"https://unpkg.com/emoji-datasource-twitter@6.0.1/img/twitter/sheets-256/64.png\");\n}\n\n.emoji-mart-bar {\n\tborder: 0 solid #d9d9d9;\n}\n.emoji-mart-bar:first-child {\n\tborder-bottom-width: 1px;\n\tborder-top-left-radius: 5px;\n\tborder-top-right-radius: 5px;\n}\n.emoji-mart-bar:last-child {\n\tborder-top-width: 1px;\n\tborder-bottom-left-radius: 5px;\n\tborder-bottom-right-radius: 5px;\n}\n\n.emoji-mart-scroll {\n\tposition: relative;\n\toverflow-y: scroll;\n\tflex: 1;\n\tpadding: 0 6px 6px 6px;\n\tz-index: 0; /* Fix for rendering sticky positioned category labels on Chrome */\n\twill-change: transform; /* avoids \"repaints on scroll\" in mobile Chrome */\n\t-webkit-overflow-scrolling: touch;\n}\n\n.emoji-mart-anchors {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding: 0 6px;\n\tcolor: #858585;\n\tline-height: 0;\n}\n\n.emoji-mart-anchor {\n\tposition: relative;\n\tdisplay: block;\n\tflex: 1 1 auto;\n\ttext-align: center;\n\tpadding: 12px 4px;\n\toverflow: hidden;\n\ttransition: color 0.1s ease-out;\n\tborder: none;\n\tbackground: none;\n\tbox-shadow: none;\n}\n.emoji-mart-anchor:hover,\n.emoji-mart-anchor-selected {\n\tcolor: #464646;\n}\n\n.emoji-mart-anchor-selected .emoji-mart-anchor-bar {\n\tbottom: 0;\n}\n\n.emoji-mart-anchor-bar {\n\tposition: absolute;\n\tbottom: -3px;\n\tleft: 0;\n\twidth: 100%;\n\theight: 3px;\n\tbackground-color: #464646;\n}\n\n.emoji-mart-anchors i {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tmax-width: 22px;\n}\n\n.emoji-mart-anchors svg {\n\tfill: currentColor;\n\tmax-height: 18px;\n}\n\n.emoji-mart .scroller {\n\theight: 250px;\n\tposition: relative;\n\tflex: 1;\n\tpadding: 0 6px 6px 6px;\n\tz-index: 0; /* Fix for rendering sticky positioned category labels on Chrome */\n\twill-change: transform; /* avoids \"repaints on scroll\" in mobile Chrome */\n\t-webkit-overflow-scrolling: touch;\n}\n\n.emoji-mart-search {\n\tmargin-top: 6px;\n\tpadding: 0 6px;\n}\n.emoji-mart-search input {\n\tfont-size: 16px;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 0.2em 0.6em;\n\tborder-radius: 25px;\n\tborder: 1px solid #d9d9d9;\n\toutline: 0;\n}\n.emoji-mart-search-results {\n\theight: 250px;\n\toverflow-y: scroll;\n}\n\n.emoji-mart-category {\n\tposition: relative;\n}\n\n.emoji-mart-category .emoji-mart-emoji span {\n\tz-index: 1;\n\tposition: relative;\n\ttext-align: center;\n\tcursor: default;\n}\n\n.emoji-mart-category .emoji-mart-emoji:hover:before,\n.emoji-mart-emoji-selected:before {\n\tz-index: 0;\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #f4f4f4;\n\tborder-radius: 100%;\n\topacity: 0;\n}\n.emoji-mart-category .emoji-mart-emoji:hover:before,\n.emoji-mart-emoji-selected:before {\n\topacity: 1;\n}\n\n.emoji-mart-category-label {\n\tposition: sticky;\n\ttop: 0;\n}\n.emoji-mart-static .emoji-mart-category-label {\n\tz-index: 2;\n\tposition: relative;\n\t/* position: sticky; */\n\t/* position: -webkit-sticky; */\n}\n\n.emoji-mart-category-label h3 {\n\tdisplay: block;\n\tfont-size: 16px;\n\twidth: 100%;\n\tfont-weight: 500;\n\tpadding: 5px 6px;\n\tbackground-color: #fff;\n\tbackground-color: rgba(255, 255, 255, 0.95);\n}\n\n.emoji-mart-emoji {\n\tposition: relative;\n\tdisplay: inline-block;\n\tfont-size: 0;\n}\n\n.emoji-mart-no-results {\n\tfont-size: 14px;\n\ttext-align: center;\n\tpadding-top: 70px;\n\tcolor: #858585;\n}\n.emoji-mart-no-results .emoji-mart-category-label {\n\tdisplay: none;\n}\n.emoji-mart-no-results .emoji-mart-no-results-label {\n\tmargin-top: 0.2em;\n}\n.emoji-mart-no-results .emoji-mart-emoji:hover:before {\n\tcontent: none;\n}\n\n.emoji-mart-preview {\n\tposition: relative;\n\theight: 70px;\n}\n\n.emoji-mart-preview-emoji,\n.emoji-mart-preview-data,\n.emoji-mart-preview-skins {\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n\n.emoji-mart-preview-emoji {\n\tleft: 12px;\n}\n\n.emoji-mart-preview-data {\n\tleft: 68px;\n\tright: 12px;\n\tword-break: break-all;\n}\n\n.emoji-mart-preview-skins {\n\tright: 30px;\n\ttext-align: right;\n}\n\n.emoji-mart-preview-name {\n\tfont-size: 14px;\n}\n\n.emoji-mart-preview-shortname {\n\tfont-size: 12px;\n\tcolor: #888;\n}\n.emoji-mart-preview-shortname + .emoji-mart-preview-shortname,\n.emoji-mart-preview-shortname + .emoji-mart-preview-emoticon,\n.emoji-mart-preview-emoticon + .emoji-mart-preview-emoticon {\n\tmargin-left: 0.5em;\n}\n\n.emoji-mart-preview-emoticon {\n\tfont-size: 11px;\n\tcolor: #bbb;\n}\n\n.emoji-mart-title span {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\n.emoji-mart-title .emoji-mart-emoji {\n\tpadding: 0;\n}\n\n.emoji-mart-title-label {\n\tcolor: #999a9c;\n\tfont-size: 21px;\n\tfont-weight: 300;\n}\n\n.emoji-mart-skin-swatches {\n\tfont-size: 0;\n\tpadding: 2px 0;\n\tborder: 1px solid #d9d9d9;\n\tborder-radius: 12px;\n\tbackground-color: #fff;\n}\n\n.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch {\n\twidth: 16px;\n\tpadding: 0 2px;\n}\n\n.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch-selected:after {\n\topacity: 0.75;\n}\n\n.emoji-mart-skin-swatch {\n\tdisplay: inline-block;\n\twidth: 0;\n\tvertical-align: middle;\n\ttransition-property: width, padding;\n\ttransition-duration: 0.125s;\n\ttransition-timing-function: ease-out;\n}\n\n.emoji-mart-skin-swatch:nth-child(1) {\n\ttransition-delay: 0s;\n}\n.emoji-mart-skin-swatch:nth-child(2) {\n\ttransition-delay: 0.03s;\n}\n.emoji-mart-skin-swatch:nth-child(3) {\n\ttransition-delay: 0.06s;\n}\n.emoji-mart-skin-swatch:nth-child(4) {\n\ttransition-delay: 0.09s;\n}\n.emoji-mart-skin-swatch:nth-child(5) {\n\ttransition-delay: 0.12s;\n}\n.emoji-mart-skin-swatch:nth-child(6) {\n\ttransition-delay: 0.15s;\n}\n\n.emoji-mart-skin-swatch-selected {\n\tposition: relative;\n\twidth: 16px;\n\tpadding: 0 2px;\n}\n.emoji-mart-skin-swatch-selected:after {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 4px;\n\theight: 4px;\n\tmargin: -2px 0 0 -2px;\n\tbackground-color: #fff;\n\tborder-radius: 100%;\n\tpointer-events: none;\n\topacity: 0;\n\ttransition: opacity 0.2s ease-out;\n}\n\n.emoji-mart-skin {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tpadding-top: 100%;\n\tmax-width: 12px;\n\tborder-radius: 100%;\n}\n\n.emoji-mart-skin-tone-1 {\n\tbackground-color: #ffc93a;\n}\n.emoji-mart-skin-tone-2 {\n\tbackground-color: #fadcbc;\n}\n.emoji-mart-skin-tone-3 {\n\tbackground-color: #e0bb95;\n}\n.emoji-mart-skin-tone-4 {\n\tbackground-color: #bf8f68;\n}\n.emoji-mart-skin-tone-5 {\n\tbackground-color: #9b643d;\n}\n.emoji-mart-skin-tone-6 {\n\tbackground-color: #594539;\n}\n\n/* vue-virtual-scroller/dist/vue-virtual-scroller.css */\n.emoji-mart .vue-recycle-scroller {\n\tposition: relative;\n}\n.emoji-mart .vue-recycle-scroller.direction-vertical:not(.page-mode) {\n\toverflow-y: auto;\n}\n.emoji-mart .vue-recycle-scroller.direction-horizontal:not(.page-mode) {\n\toverflow-x: auto;\n}\n.emoji-mart .vue-recycle-scroller.direction-horizontal {\n\tdisplay: flex;\n}\n.emoji-mart .vue-recycle-scroller__slot {\n\tflex: auto 0 0;\n}\n.emoji-mart .vue-recycle-scroller__item-wrapper {\n\tflex: 1;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tposition: relative;\n}\n.emoji-mart .vue-recycle-scroller.ready .vue-recycle-scroller__item-view {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twill-change: transform;\n}\n.emoji-mart\n\t.vue-recycle-scroller.direction-vertical\n\t.vue-recycle-scroller__item-wrapper {\n\twidth: 100%;\n}\n.emoji-mart\n\t.vue-recycle-scroller.direction-horizontal\n\t.vue-recycle-scroller__item-wrapper {\n\theight: 100%;\n}\n.emoji-mart\n\t.vue-recycle-scroller.ready.direction-vertical\n\t.vue-recycle-scroller__item-view {\n\twidth: 100%;\n}\n.emoji-mart\n\t.vue-recycle-scroller.ready.direction-horizontal\n\t.vue-recycle-scroller__item-view {\n\theight: 100%;\n}\n.emoji-mart .resize-observer[data-v-b329ee4c] {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: -1;\n\twidth: 100%;\n\theight: 100%;\n\tborder: none;\n\tbackground-color: transparent;\n\tpointer-events: none;\n\tdisplay: block;\n\toverflow: hidden;\n\topacity: 0;\n}\n.emoji-mart .resize-observer[data-v-b329ee4c] object {\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n\tpointer-events: none;\n\tz-index: -1;\n}\n.emoji-mart-search .hidden {\n\tdisplay: none;\n\tvisibility: hidden;\n}\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputField.vue?vue&type=template&id=1c67a904&scoped=true&\"\nimport script from \"./InputField.vue?vue&type=script&lang=js&\"\nexport * from \"./InputField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InputField.vue?vue&type=style&index=0&id=1c67a904&prod&scoped=true&lang=sass&\"\nimport style1 from \"./InputField.vue?vue&type=style&index=1&id=1c67a904&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c67a904\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"recordButton_wrapper\"},[_c('div',{ref:\"holder\",staticClass:\"recordButton_holder\",class:{ hold: _vm.isHold }},[_c('i',{staticClass:\"icon fas\",class:_vm.isHold ? 'fa-lock' : 'fa-lock-open'})]),(!_vm.isHold)?_c('div',{ref:\"toggle\",staticClass:\"recordButton_micro recordButton_main\",class:{ active: _vm.isRecording, disabled: _vm.disabled },on:{\"mousedown\":_vm.mousedown,\"mouseup\":_vm.mouseup,\"touchstart\":_vm.handleTouchStart,\"touchend\":_vm.handleTouchEnd,\"touchcancel\":_vm.handleTouchEnd}},[_c('i',{staticClass:\"icon fas fa-microphone\"})]):_vm._e(),(_vm.isHold)?_c('div',{ref:\"stop\",staticClass:\"recordButton_stop recordButton_main\",on:{\"click\":_vm.recordEnd}},[_c('i',{staticClass:\"icon fas fa-stop\"})]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from \"vuex\";\n\nexport default {\n\tname: \"recordVoice\",\n\tprops: {\n\t\tisRecording: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tprepareRecording: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tdisabled: Boolean,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstart: 0,\n\t\t\tisHold: false,\n\t\t\tdirection: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tmobile: (state) => state.mobile,\n\t\t}),\n\t},\n\tmounted() {},\n\tbeforeDestroy() {\n\t\tdocument.removeEventListener(\"mousemove\", this.handleMove);\n\t\tdocument.removeEventListener(\"touchmove\", this.handleMove);\n\n\t\tif (this.isRecording) {\n\t\t\tthis.$emit(\"onRecordingStop\", { cancel: true });\n\t\t}\n\t},\n\tmethods: {\n\t\tmouseup: function (e) {\n\t\t\tif (!this.mobile) this.handleTouchEnd(e);\n\t\t},\n\n\t\tmousedown: function (e) {\n\t\t\tif (!this.mobile) this.handleTouchStart(e);\n\t\t},\n\n\t\thandleTouchStart(e) {\n\t\t\tif (!this.isRecording) {\n\t\t\t\tthis.$emit(\"onRecordingStart\");\n\t\t\t} else {\n\t\t\t\tif (this.isHold) return;\n\t\t\t}\n\n\t\t\tthis.start = {\n\t\t\t\tY: e.changedTouches ? e.changedTouches[0].pageY : e.pageY,\n\t\t\t\tX: e.changedTouches ? e.changedTouches[0].pageX : e.pageX,\n\t\t\t};\n\n\t\t\tif (!this.mobile) document.addEventListener(\"mousemove\", this.handleMove);\n\t\t\telse document.addEventListener(\"touchmove\", this.handleMove);\n\t\t},\n\t\thandleTouchEnd(e) {\n\t\t\tif (this.isHold) return;\n\n\t\t\tif (this.isRecording || this.prepareRecording) {\n\t\t\t\tthis.$emit(\"onRecordingStop\", {\n\t\t\t\t\tsendnow: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdocument.removeEventListener(\"mousemove\", this.handleMove);\n\t\t\tdocument.removeEventListener(\"touchmove\", this.handleMove);\n\n\t\t\tthis.clearStyle();\n\t\t},\n\n\t\tclearStyle() {\n\t\t\tif (this.$refs.toggle) {\n\t\t\t\tthis.$refs.toggle.style.transform = `translate(0,0)`;\n\t\t\t\tthis.$refs.toggle.classList.remove(\"outside\");\n\t\t\t}\n\n\t\t\tif (this.$refs.holder) {\n\t\t\t\tthis.$refs.holder.classList.remove(\"active\");\n\t\t\t}\n\t\t},\n\n\t\thandleMove(e) {\n\t\t\tif (!this.isRecording) return;\n\n\t\t\tlet deltaY = this.start.Y - e.pageY;\n\t\t\tlet deltaX = this.start.X - e.pageX;\n\n\t\t\tif (e?.changedTouches?.length) {\n\t\t\t\tdeltaY = this.start.Y - e.changedTouches[0].pageY;\n\t\t\t\tdeltaX = this.start.X - e.changedTouches[0].pageX;\n\t\t\t}\n\n\t\t\tif (deltaY > 5 && deltaX < 5) {\n\t\t\t\tthis.direction = \"Y\";\n\t\t\t} else {\n\t\t\t\tthis.direction = \"X\";\n\t\t\t}\n\n\t\t\tif (deltaY > 5 && this.direction === \"Y\") {\n\t\t\t\tif (!this.$refs.holder.classList.contains(\"active\"))\n\t\t\t\t\tthis.$refs.holder.classList.add(\"active\");\n\n\t\t\t\tthis.$refs.toggle.style.transform = `translate(0,-${deltaY}px)`;\n\n\t\t\t\tif (deltaY > 70) {\n\t\t\t\t\tthis.$refs.toggle.style.transform = `translate(0,0)`;\n\n\t\t\t\t\tdocument.removeEventListener(\"mousemove\", this.handleMove);\n\t\t\t\t\tdocument.removeEventListener(\"touchmove\", this.handleMove);\n\t\t\t\t\t//document.removeEventListener('mouseup', this.handleTouchEnd)\n\n\t\t\t\t\tthis.isHold = true;\n\t\t\t\t}\n\t\t\t} else if (deltaX > 5 && this.direction === \"X\") {\n\t\t\t\tthis.$refs.toggle.style.transform = `translate(-${deltaX}px, 0)`;\n\n\t\t\t\tif (!this.$refs.holder.classList.contains(\"outside\"))\n\t\t\t\t\tthis.$refs.toggle.classList.add(\"outside\");\n\n\t\t\t\tthis.$emit(\"canceling\", (deltaX - 5) / 130);\n\n\t\t\t\tif (deltaX > 130) {\n\t\t\t\t\tthis.$refs.toggle.style.transform = `translate(0,0)`;\n\t\t\t\t\tdocument.removeEventListener(\"mousemove\", this.handleMove);\n\t\t\t\t\tdocument.removeEventListener(\"touchmove\", this.handleMove);\n\t\t\t\t\t//document.removeEventListener('mouseup', this.handleTouchEnd)\n\t\t\t\t\tthis.$emit(\"onRecordingStop\", { cancel: true });\n\t\t\t\t\tthis.$emit(\"onClear\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.clearStyle();\n\t\t\t}\n\t\t},\n\n\t\trecordEnd(e) {\n\t\t\tthis.clearStyle();\n\n\t\t\tif (this.isRecording && this.isHold) {\n\t\t\t\tthis.$emit(\"onRecordingStop\", {});\n\t\t\t\tthis.isHold = false;\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=16750db8&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.scss?vue&type=style&index=0&id=16750db8&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16750db8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"recordProgress\"},[(_vm.isRecording)?_c('div',{staticClass:\"indicatorWrapper\"},[_c('div',{staticClass:\"indicator\",class:{ recording: _vm.isRecording }})]):_c('div',{staticClass:\"del\",on:{\"click\":_vm.clear}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('div',{staticClass:\"timer\"},[_vm._v(_vm._s(_vm.timer))]),_c('div',{ref:\"graph\",staticClass:\"graph\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"width\":_vm.width,\"height\":\"20\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRecording && _vm.opacity),expression:\"isRecording && opacity\"}],ref:\"cancel\",staticClass:\"cancel\"},[_c('span',[_vm._v(\"Slide left to cancel\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n\tname: \"recordProgress\",\n\tprops: {\n\t\trecordTime: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\trmsData: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tisRecording: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\topacity: {},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t};\n\t},\n\tcomputed: {\n\t\ttimer() {\n\t\t\tlet minute = Math.floor(this.recordTime / 60000);\n\t\t\tlet sec = Math.floor(this.recordTime / 1000) % 60;\n\t\t\treturn `${minute ? minute + \":\" : \"0:\"}${sec < 10 ? \"0\" + sec : sec}`;\n\t\t},\n\n\t\trmsDataLast() {\n\t\t\treturn _.last(this.rmsData, 25);\n\t\t},\n\t},\n\n\twatch: {\n\t\trmsData: _.throttle(function () {\n\t\t\tthis.draw();\n\t\t}, 30),\n\n\t\topacity: function () {\n\t\t\tthis.$refs.cancel.style.opacity = this.opacity;\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.$refs.cancel.style.opacity = 0;\n\t\tlet width = this.$refs.graph.offsetWidth;\n\t\tthis.width = width - (width % 100);\n\n\t\twindow.addEventListener(\"resize\", this.resize);\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener(\"resize\", this.resize);\n\t},\n\n\tmethods: {\n\t\tresize() {\n\t\t\tlet timer = null;\n\n\t\t\tvar re = () => {\n\t\t\t\tif (!timer) {\n\t\t\t\t\ttimer = setTimeout(() => {\n\t\t\t\t\t\ttimer = null;\n\t\t\t\t\t\tlet width = this.$refs.graph.offsetWidth;\n\t\t\t\t\t\tthis.width = width - (width % 100);\n\t\t\t\t\t}, 50);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tre();\n\t\t},\n\t\tdraw() {\n\t\t\tif (!this.$refs.canvas) return;\n\n\t\t\tconst ctx = this.$refs.canvas.getContext(`2d`);\n\t\t\tlet x = 0;\n\t\t\tlet count = 50;\n\t\t\tlet width = 2; //this.width / 200\n\t\t\tvar l = this.rmsDataLast.length;\n\t\t\tvar c = Math.max(Math.floor(l / count), 1);\n\n\t\t\tctx.clearRect(0, 0, this.width, 20);\n\n\t\t\tfor (let i = 0; i < l; i = i + c) {\n\t\t\t\tctx.fillStyle = \"#00a4ff\";\n\t\t\t\tctx.fillRect(\n\t\t\t\t\ti * 2 * width,\n\t\t\t\t\t10 - this.rmsDataLast[i] / 8,\n\t\t\t\t\twidth,\n\t\t\t\t\tthis.rmsDataLast[i] / 4 + 1\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tclear() {\n\t\t\tthis.$emit(\"onClear\");\n\t\t},\n\t},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5df29904&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.scss?vue&type=style&index=0&id=5df29904&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5df29904\",\n  null\n  \n)\n\nexport default component.exports","import f from \"@/application/functions\";\nimport InputField from \"./InputField/InputField.vue\";\nimport recordVoice from \"@/components/assets/recordVoice/index.vue\";\nimport { mapState } from \"vuex\";\nimport Images from \"@/application/utils/images.js\";\n\nimport contacts from \"@/components/contacts/list/index.vue\";\nimport preview from \"@/components/contacts/preview/index.vue\";\nimport recordProgress from \"@/components/assets/recordProgress/index.vue\";\n\nimport upload from \"@/components/assets/upload/index.vue\";\n\nimport { cancelable } from \"cancelable-promise\";\nexport default {\n\tname: \"chatInput\",\n\tprops: {\n\t\tchat: Object,\n\t\tu: String,\n\t\trelationEvent: Object,\n\t},\n\n\tcomponents: {\n\t\tInputField,\n\t\tcontacts,\n\t\tpreview,\n\t\trecordProgress,\n\t\trecordVoice,\n\t\tupload,\n\t},\n\t\n\tinject: [\n\t\t\"streamMode\",\n\t\t\"authorId\",\n\t\t\"menuState\"\n\t],\n\n\tdata: function () {\n\t\treturn {\n\t\t\tupload: true,\n\t\t\ttest: [],\n\t\t\tloading: false,\n\t\t\ttext: \"\",\n\t\t\tfile: {},\n\t\t\tfileInfo: {},\n\t\t\tready: false,\n\t\t\tcreating: false,\n\t\t\tuserId: \"\",\n\t\t\tshowuserselect: null,\n\t\t\tanyUrlMeta: String,\n\t\t\tjoinedMembers: [],\n\t\t\ttipvalue: null,\n\t\t\ttipuserindex: 0,\n\t\t\trecord: null,\n\t\t\trecordRmsData: [],\n\t\t\tisRecording: false,\n\n\t\t\tmediaRecorder: null,\n\t\t\taudioContext: null,\n\t\t\taudioAnalyser: null,\n\n\t\t\trecordTime: 0,\n\t\t\tinterval: null,\n\t\t\tcancelOpacity: 0,\n\t\t\tmicrophoneDisabled: false,\n\t\t\tprepareRecording: false,\n\n\t\t\tcancelledCordovaMediaRecorder: false,\n\n\t\t\tdonate: null\n\t\t};\n\t},\n\n\twatch: {\n\t\tusersForKeysHash: {\n\t\t\t//immediate: true,\n\t\t\thandler: function () {},\n\t\t},\n\t\ttipusers: function () {\n\t\t\tif (!this.tipusers.length) {\n\t\t\t\tthis.tipuserindex = 0;\n\t\t\t} else {\n\t\t\t\tif (this.tipuserindex > this.tipusers.length - 1) {\n\t\t\t\t\tthis.tipuserindex = this.tipusers.length - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\n\tbeforeDestroy() {\n\t\tif (this.audioContext) this.audioContext.close();\n\t},\n\n\tcomputed: {\n\t\tvoiceEnable() {\n\t\t\treturn this.$store.state.voiceMessagesEnabled;\n\t\t},\n\n\t\tconnect: function () {\n\t\t\treturn this.$store.state.contact;\n\t\t},\n\t\tpkoindisabled: function () {\n\t\t\treturn this.$store.state.pkoindisabled;\n\t\t},\n\n\t\tmenu: function () {\n\t\t\tvar menuItems = [];\n\n\t\t\tif (\n\t\t\t\twindow.POCKETNETINSTANCE &&\n\t\t\t\twindow.POCKETNETINSTANCE.mobile.supportimagegallery()\n\t\t\t) {\n\t\t\t\tmenuItems.push({\n\t\t\t\t\taction: this.cameraHandlerCustom,\n\t\t\t\t\ttext: \"button.takePhotoOrVideo\",\n\t\t\t\t\ticon: \"fas fa-camera\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmenuItems.push({\n\t\t\t\t\ttext: \"button.takePhotoOrVideo\",\n\t\t\t\t\ticon: \"fas fa-camera\",\n\n\t\t\t\t\tupload: {\n\t\t\t\t\t\tmultiple: true,\n\t\t\t\t\t\textensions: [\"jpg\", \"jpeg\", \"png\", \"webp\"],\n\t\t\t\t\t\tmaxsize: 100,\n\t\t\t\t\t\timages: {\n\t\t\t\t\t\t\tresize: {\n\t\t\t\t\t\t\t\ttype: \"fit\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tstart : this.uploadStart,\n\t\t\t\t\t\terror : this.uploadError,\n\t\t\t\t\t\tuploaded : this.uploadUploaded,\n\t\t\t\t\t\tuploadedAll : this.uploadUploadedAll\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmenuItems.push({\n\t\t\t\ttext: \"button.sendFile\",\n\t\t\t\ticon: \"fas fa-sticky-note\",\n\n\t\t\t\tupload: {\n\t\t\t\t\tmultiple: true,\n\t\t\t\t\textensions: [],\n\t\t\t\t\tmaxsize: 25,\n\t\t\t\t\timages: {\n\t\t\t\t\t\tresize: {\n\t\t\t\t\t\t\ttype: \"fit\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\n\t\t\t\t\tstart : this.uploadStart,\n\t\t\t\t\terror : this.uploadError,\n\t\t\t\t\tuploaded : this.uploadUploaded,\n\t\t\t\t\tuploadedAll : this.uploadUploadedAll\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (this.transaction && !this.pkoindisabled) {\n\t\t\t\tmenuItems.unshift({\n\t\t\t\t\taction: this.sendtransactionWrapper,\n\t\t\t\t\ttext: \"button.sendCoins\",\n\t\t\t\t\ticon: \"fas fa-wallet\",\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn menuItems;\n\t\t},\n\n\t\t...mapState([\"chats\"]),\n\n\t\tuserlist: function () {\n\t\t\tif (!this.chat) return [];\n\n\t\t\treturn this.core.mtrx.chatUsersInfo(this.chat.roomId, \"anotherChatUsers\");\n\t\t},\n\n\t\ttransaction: function () {\n\t\t\treturn f.deep(window, \"POCKETNETINSTANCE.platform.ui.wallet.donate\");\n\t\t},\n\n\t\tuusers: function () {\n\t\t\tif (this.u) {\n\t\t\t\treturn _.map(this.u.split(\",\"), (u) => {\n\t\t\t\t\treturn u;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\t\tausers: function () {\n\t\t\tif (this.u) {\n\t\t\t\treturn _.map(this.u.split(\",\"), (u) => {\n\t\t\t\t\treturn this.core.user.matrixId(u);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\t\tstateChat: function () {\n\t\t\tvar id = this.$route.query.id;\n\t\t\treturn this.$store.state.chatsMap[id];\n\t\t},\n\t\tinvited: function () {\n\t\t\tif (!this.chat) {\n\t\t\t\tif (this.u) return this.ausers;\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn _.map(\n\t\t\t\t_.filter(this.chat.currentState.getMembers(), function (m, v) {\n\t\t\t\t\treturn m.membership === \"invite\";\n\t\t\t\t}),\n\t\t\t\tfunction (u) {\n\t\t\t\t\treturn u.userId;\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\tjoined: function () {\n\t\t\tif (!this.chat) return [];\n\n\t\t\tlet roomId = this.chat.roomId;\n\t\t\tlet self = this;\n\t\t\tlet arr = [];\n\t\t\tlet members = 0;\n\n\t\t\tthis.chat.currentState.getMembers().forEach(function (user) {\n\t\t\t\tif (user.membership === \"join\") {\n\t\t\t\t\tarr.push(user.userId);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn arr;\n\t\t},\n\n\t\ttipusers: function () {\n\t\t\tif (this.tipvalue === null) return [];\n\t\t\tif (this.tipvalue === \"\") return this.userlist;\n\n\t\t\tvar value = this.tipvalue.toLowerCase();\n\n\t\t\tvar u = _.filter(this.userlist, function (u) {\n\t\t\t\treturn (\n\t\t\t\t\tu.name.toLowerCase().indexOf(value) == 0 &&\n\t\t\t\t\tu.name.toLowerCase() != value\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn u;\n\t\t},\n\n\t\tmaintipuser: function () {\n\t\t\tif (this.tipusers.length) {\n\t\t\t\treturn this.tipusers[this.tipuserindex || 0];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\tme() {\n\t\t\t/* Compare author and user bastyon id to prevent donate myself */\n\t\t\treturn this.authorId === this.core.user.userinfo?.source.address;\n\t\t}\n\t},\n\n\tcreated() {},\n\n\t///\n\n\tmounted() {\n\t\tthis.ready = true;\n\n\t\tif (!this.chat && this.core.mtrx.client) {\n\t\t\tthis.newchat().catch((e) => {\n\t\t\t\treturn Promise.resolve();\n\t\t\t});\n\t\t}\n\t},\n\n\tmethods: {\n\t\twait: function () {\n\t\t\treturn this.$f.pretry(() => {\n\t\t\t\treturn this.core.mtrx.client && this.core.mtrx.access;\n\t\t\t});\n\t\t},\n\n\t\tbrowsetip: function (increase) {\n\t\t\tincrease ? this.tipuserindex++ : this.tipuserindex--;\n\n\t\t\tif (this.tipuserindex > this.tipusers.length - 1) {\n\t\t\t\tthis.tipuserindex = 0;\n\t\t\t}\n\n\t\t\tif (this.tipuserindex < 0) {\n\t\t\t\tthis.tipuserindex = this.tipusers.length - 1;\n\t\t\t}\n\t\t},\n\n\t\tselectcurrenttip: function () {\n\t\t\tthis.insertuser(this.tipusers[this.tipuserindex || 0]);\n\t\t},\n\n\t\tinsertuser: function (user = {}) {\n\t\t\tvar name = user.name || \"\";\n\n\t\t\tthis.$refs[\"newinput\"].inserttip(name);\n\t\t},\n\n\t\ttipBySearch: function (value) {\n\t\t\tthis.tipvalue = value;\n\t\t},\n\n\t\tshowuserselected: function (contact, action) {\n\t\t\tthis[action](contact);\n\t\t},\n\n\t\tresizeImage: function (base64) {\n\t\t\tvar ftype = base64.split(\";\")[0].split(\"/\")[1];\n\t\t\tvar images = new Images();\n\n\t\t\treturn images.resize[\"fit\"](base64, 1024, 1024, ftype, 0.95)\n\t\t\t\t.then((base64) => {\n\t\t\t\t\treturn Promise.resolve(base64);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t});\n\t\t},\n\n\t\tcameraHandlerCustom: function () {\n\t\t\tvar result = [];\n\n\t\t\twindow.POCKETNETINSTANCE.platform.ui.uploadImage({\n\t\t\t\tmultiple: true,\n\n\t\t\t\taction: ({ base64 }, resolve) => {\n\t\t\t\t\treturn this.resizeImage(base64)\n\t\t\t\t\t\t.then((base64) => {\n\t\t\t\t\t\t\treturn f.Base64.toFile(base64).then((file) => {\n\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\tbase64,\n\t\t\t\t\t\t\t\t\tfile,\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tresult.push(data);\n\n\t\t\t\t\t\t\t\tthis.uploadUploaded(null, data);\n\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tonSuccess: (imgs) => {\n\t\t\t\t\tthis.uploadUploadedAll();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\tsendtransactionWrapper: function () {\n\t\t\tvar users = (() => {\n\t\t\t\tif (this.streamMode && this.authorId) {\n\t\t\t\t\t/* Donate only to author (stream mode) */\n\t\t\t\t\treturn [{\n\t\t\t\t\t\tid: this.authorId,\n\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\taddress: this.authorId\n\t\t\t\t\t\t}\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\t/* Donate to chat participants */\n\t\t\t\t\treturn _.filter(\n\t\t\t\t\t\t_.map(this.joined, (j) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tthis.$f.deep(\n\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\"$store.state.users.\" + this.$f.getmatrixid(j)\n\t\t\t\t\t\t\t\t) || null\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t(r) => {\n\t\t\t\t\t\t\treturn r && r.source && r.id != this.core.user.userinfo?.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})();\n\t\t\t\n\t\t\tif (!users.length) {\n\t\t\t\treturn \"users.length\";\n\t\t\t}\n\n\t\t\tif (users.length > 1) {\n\t\t\t\tthis.core.store.commit(\"setmodal\", {\n\t\t\t\t\tcaption: this.$i18n.t(\"caption.sendTransactionTo\"),\n\t\t\t\t\ttype: \"showuserselect\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tusers: users,\n\t\t\t\t\t\taction: \"sendtransaction\",\n\t\t\t\t\t\tuserselected: (c) => {\n\t\t\t\t\t\t\tthis.showuserselected(c, \"sendtransaction\");\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\t/*this.showuserselect = {\n\t\t\t\t  users : users,\n\t\t\t\t  action : 'sendtransaction'\n\t\t\t\t}*/\n\t\t\t} else {\n\t\t\t\tthis.sendtransaction(users[0]);\n\t\t\t}\n\n\t\t},\n\n\t\tsendtransaction: function (user) {\n\t\t\tif (this.donate) return;\n\n\t\t\tvar api = this.transaction;\n\n\t\t\t//TODO get address and send transaction\n\n\t\t\tapi({\n\t\t\t\troomid: this.chat.roomId,\n\t\t\t\treceiver: user.source.address,\n\t\t\t\tsend: !this.streamMode,\n\t\t\t\tshare: !this.streamMode\n\t\t\t}).then(transaction => {\n\n\t\t\t\tif (this.streamMode){\n\t\t\t\t\tthis.donate = transaction;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t},\n\n\t\tremovetransaction: function () {\n\t\t\tthis.donate = null;\n\t\t},\n\n\t\temitInputData: function () {\n\t\t\tthis.$emit(\"emptyInput\");\n\t\t\tthis.upload = true;\n\t\t},\n\n\t\tHideUploadPic() {\n\t\t\tthis.upload = false;\n\t\t},\n\n\t\temitUrl: function (url) {\n\t\t\tthis.$emit(\"setMetaUrl\", url);\n\t\t},\n\n\t\tnewchat() {\n\t\t\tif (this.u) {\n\t\t\t\tthis.$store.state.globalpreloader = true;\n\t\t\t\tvar matrixId = null;\n\t\t\t\tvar myMatrixId = null;\n\t\t\t\tvar chat = null;\n\t\t\t\tvar id = \"\";\n\n\t\t\t\tthis.creating = true;\n\t\t\t\treturn this.core.user\n\t\t\t\t\t.usersInfo(this.uusers)\n\t\t\t\t\t.then((info) => {\n\t\t\t\t\t\tif (this.uusers.length == 1) {\n\t\t\t\t\t\t\tvar _info = info[0];\n\n\t\t\t\t\t\t\tif (!_info || !_info.keys || _info.keys.length < 12) {\n\t\t\t\t\t\t\t\tthis.$emit(\"cantchatcrypto\");\n\t\t\t\t\t\t\t\treturn Promise.reject(\"ny2\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.core.user.userinfo.keys.length < 12) {\n\t\t\t\t\t\t\tthis.$emit(\"cantchatcrypto\");\n\t\t\t\t\t\t\treturn Promise.reject(\"ny2\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//return Promise.reject('ny3')\n\n\t\t\t\t\t\tid = this.core.mtrx.kit.tetatetid(info[0], this.core.user.userinfo);\n\n\t\t\t\t\t\tmatrixId = this.core.user.matrixId(info[0].id);\n\t\t\t\t\t\tmyMatrixId = this.core.user.matrixId(this.core.user.userinfo.id);\n\n\t\t\t\t\t\tvar initialstate = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: \"m.set.encrypted\",\n\t\t\t\t\t\t\t\tstate_key: \"\",\n\t\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\t\tencrypted: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\n\t\t\t\t\t\treturn this.core.mtrx.client.createRoom({\n\t\t\t\t\t\t\troom_alias_name: id,\n\t\t\t\t\t\t\tvisibility: \"private\",\n\t\t\t\t\t\t\tinvite: [matrixId],\n\t\t\t\t\t\t\tname: \"#\" + id,\n\t\t\t\t\t\t\tinitial_state: initialstate,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.then((_chat) => {\n\t\t\t\t\t\tchat = _chat;\n\t\t\t\t\t\tthis.$store.state.globalpreloader = false;\n\n\t\t\t\t\t\tlet m_chat = this.core.mtrx.client.getRoom(_chat.room_id);\n\t\t\t\t\t\tlet event = m_chat.currentState.getStateEvents(\n\t\t\t\t\t\t\t\"m.room.power_levels\"\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn this.core.mtrx.client\n\t\t\t\t\t\t\t.setPowerLevel(chat.room_id, matrixId, 100, event[0])\n\t\t\t\t\t\t\t.catch((e) => {});\n\t\t\t\t\t})\n\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\tthis.creating = false;\n\n\t\t\t\t\t\tif (this.connect && this.connect == id) {\n\t\t\t\t\t\t\tthis.greetings();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.$store.commit(\"CONTACT\", false);\n\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tthis.creating = false;\n\n\t\t\t\t\t\tthis.$store.state.globalpreloader = false;\n\n\t\t\t\t\t\tif (e && e.errcode == \"M_ROOM_IN_USE\") {\n\t\t\t\t\t\t\treturn this.core.mtrx.client\n\t\t\t\t\t\t\t\t.joinRoom(\n\t\t\t\t\t\t\t\t\t\"#\" +\n\t\t\t\t\t\t\t\t\t\tid +\n\t\t\t\t\t\t\t\t\t\t\":\" +\n\t\t\t\t\t\t\t\t\t\tthis.core.mtrx.baseUrl.replace(\"https://\", \"\")\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.then(() => {})\n\t\t\t\t\t\t\t\t.catch((e) => {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn Promise.reject(\"u\");\n\t\t\t}\n\t\t},\n\n\t\tmaySendMessage() {\n\t\t\treturn this.chat && this.chat.maySendMessage();\n\t\t},\n\n\t\tgreetings() {\n\t\t\tthis.send(\"👋\").then((r) => {\n\t\t\t\treturn Promise.resolve(r);\n\t\t\t});\n\t\t},\n\n\t\tsendinput(text) {\n\t\t\tthis.send(text).then((r) => {\n\t\t\t\treturn Promise.resolve(r);\n\t\t\t});\n\t\t},\n\n\t\ttextCutLimit: function (text, limit) {\n\t\t\ttext = text.trim();\n\t\t\tif (text.length <= limit) return text;\n\n\t\t\ttext = text.slice(0, limit);\n\n\t\t\treturn text.trim() + \"...\";\n\t\t},\n\n\t\treplaceMentions(text) {\n\t\t\t_.each(this.userlist, function (user) {\n\t\t\t\ttext = text.replace(\n\t\t\t\t\tnew RegExp(\"@\" + user.name, \"g\"),\n\t\t\t\t\t\"@\" + user.id + \":\" + user.name\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn text;\n\t\t},\n\n\t\tclbkEncrypt(){\n\t\t\tthis.$emit('encrypt')\n\t\t},\n\n\t\tclbkEncrypted(){\n\t\t\tthis.$emit('encrypted')\n\n\t\t},\n\n\t\tsend(text) {\n\t\t\tif (!this.chat) {\n\t\t\t\tthis.newchat().catch((e) => {});\n\t\t\t}\n\n\t\t\t//return this.chat.pcrypto.getOrCreateCommonKey()\n\n\t\t\t//return this.chat.pcrypto.sendCommonKey()\n\n\t\t\t//return\n\n\t\t\tthis.$emit(\"sending\");\n\n\t\t\tif (!this.relationEvent) {\n\t\t\t\tthis.focus();\n\t\t\t}\n\n\t\t\treturn this.$f\n\t\t\t\t.pretry(() => {\n\t\t\t\t\treturn this.chat && !this.creating;\n\t\t\t\t})\n\t\t\t\t.then(async (r) => {\n\t\t\t\t\tthis.$emit(\"sent\");\n\n\t\t\t\t\ttext = this.replaceMentions(text);\n\n\t\t\t\t\tif (this.relationEvent) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis.relationEvent.type == \"m.replace\" &&\n\t\t\t\t\t\t\tthis.relationEvent.event\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn this.core.mtrx\n\t\t\t\t\t\t\t\t.textEvent(this.chat, text, {\n\t\t\t\t\t\t\t\t\tencryptEvent : this.clbkEncrypt,\n\t\t\t\t\t\t\t\t\tencryptedEvent : this.clbkEncrypted\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\t\t\t\tr[\"m.relates_to\"] = {\n\t\t\t\t\t\t\t\t\t\trel_type: \"m.replace\",\n\t\t\t\t\t\t\t\t\t\tevent_id:\n\t\t\t\t\t\t\t\t\t\t\tthis.core.mtrx.clearEventId(this.relationEvent.event) ||\n\t\t\t\t\t\t\t\t\t\t\tf.makeid(),\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar editEvent = r;\n\n\t\t\t\t\t\t\t\t\tthis.relationEvent.event.event.content.body = r.body;\n\t\t\t\t\t\t\t\t\tthis.relationEvent.event.event.content.block = r.block;\n\t\t\t\t\t\t\t\t\tthis.relationEvent.event.event.content.msgtype = r.msgtype;\n\n\t\t\t\t\t\t\t\t\tdelete this.relationEvent.event.event.decryptKey;\n\t\t\t\t\t\t\t\t\tdelete this.relationEvent.event.event.decrypted;\n\n\t\t\t\t\t\t\t\t\treturn this.core.mtrx.client.sendEvent(\n\t\t\t\t\t\t\t\t\t\tthis.chat.roomId,\n\t\t\t\t\t\t\t\t\t\t\"m.room.message\",\n\t\t\t\t\t\t\t\t\t\teditEvent\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\t\t\t\tthis.core.store.dispatch(\"FETCH_EVENTS\");\n\n\t\t\t\t\t\t\t\t\tthis.$emit(\"clearRelationEvent\");\n\n\t\t\t\t\t\t\t\t\tthis.$emit(\"force\");\n\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst\n\t\t\t\t\t\tsendText = (text, params) => {\n\t\t\t\t\t\t\treturn this.core.mtrx.sendtext(this.chat, text, Object.assign({\n\t\t\t\t\t\t\t\trelation: this.relationEvent,\n\t\t\t\t\t\t\t}, params || {}), {\n\t\t\t\t\t\t\t\tencryptEvent : this.clbkEncrypt,\n\t\t\t\t\t\t\t\tencryptedEvent : this.clbkEncrypted\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata = {};\n\n\t\t\t\t\tif (this.donate) {\n\t\t\t\t\t\tconst donate = Object.assign(this.donate, {});\n\t\t\t\t\t\tthis.removetransaction();\n\t\t\t\t\t\tconst txid = await donate.send();\n\t\t\t\t\t\tdata.donateLink = txid;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn sendText(text, data);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tthis.$emit(\"sentMessageError\", {\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tpasteImage(data) {\n\t\t\tthis.sendImage({ base64: data });\n\t\t},\n\n\t\tsendImage: function ({ base64, file }) {\n\t\t\tvar id = f.makeid();\n\n\t\t\tvar meta = {\n\t\t\t\ttype: \"image\",\n\t\t\t\tid: id,\n\t\t\t\tbase64: base64,\n\t\t\t};\n\n\t\t\tthis.$emit(\"sendingData\", meta);\n\t\t\t//setTimeout(() => {\n\t\t\tthis.$f\n\t\t\t\t.pretry(() => {\n\t\t\t\t\treturn this.chat;\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (meta.aborted) return Promise.reject(\"aborted\");\n\n\t\t\t\t\treturn this.core.mtrx.sendImage(this.chat, base64, null, meta, {\n\t\t\t\t\t\trelation: this.relationEvent,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.then((r) => {\n\t\t\t\t\tthis.$emit(\"clearRelationEvent\");\n\n\t\t\t\t\tthis.$emit(\"sentData\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t});\n\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\tthis.$emit(\"sentError\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t});\n\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\t\t\t//}, 5000)\n\t\t},\n\n\t\tcanencryptfilesize: function (file) {\n\t\t\tvar s = 10 * 1024 * 1024;\n\n\t\t\tif (!this.chat.pcrypto.canBeEncrypt()) {\n\t\t\t\treturn Promise.resolve(false);\n\t\t\t}\n\n\t\t\tif (file.size > s) {\n\t\t\t\treturn this.$dialog\n\t\t\t\t\t.confirm(\n\t\t\t\t\t\t\"Files larger than 10 megabytes are not encrypted. Do you want to send the file unencrypted?\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tokText: \"Yes\",\n\t\t\t\t\t\t\tcancelText: \"No, cancel\",\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\t.then((dialog) => {\n\t\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\treturn Promise.reject(\"cancel\");\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn Promise.resolve(false);\n\t\t},\n\n\t\tsendFile: function ({ file }) {\n\t\t\tvar id = f.makeid();\n\n\t\t\tvar meta = {\n\t\t\t\ttype: \"file\",\n\t\t\t\tid: id,\n\t\t\t\tinfo: {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tthis.$emit(\"sendingData\", meta);\n\n\t\t\tthis.$f\n\t\t\t\t.pretry(() => {\n\t\t\t\t\treturn this.chat;\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\treturn this.canencryptfilesize(file);\n\t\t\t\t})\n\t\t\t\t.then((notenc) => {\n\t\t\t\t\treturn this.core.mtrx.sendFile(\n\t\t\t\t\t\tthis.chat,\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\tmeta,\n\t\t\t\t\t\t{ relation: this.relationEvent },\n\t\t\t\t\t\tnotenc\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$emit(\"clearRelationEvent\");\n\n\t\t\t\t\tthis.$emit(\"sentData\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t});\n\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\tthis.$emit(\"sentError\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tfocus: function () {\n\t\t\tif (this.$refs[\"newinput\"]) this.$refs[\"newinput\"].focus();\n\t\t},\n\n\t\tfocused: function () {\n\t\t\tthis.$emit(\"focused\");\n\t\t},\n\n\t\tblur: function () {\n\t\t\tif (this.$refs[\"newinput\"]) this.$refs[\"newinput\"].blur();\n\t\t},\n\n\t\tblurifempty: function () {\n\t\t\tif (this.$refs[\"newinput\"]) this.$refs[\"newinput\"].blurifempty();\n\t\t},\n\n\t\tchange: function () {},\n\n\t\tsetText: function (text) {\n\t\t\tthis.text = text;\n\n\t\t\tif (this.$refs[\"newinput\"]) this.$refs[\"newinput\"].setText(text);\n\t\t},\n\n\t\tkeyup: function (evt) {\n\t\t\tvar value = evt.target.value;\n\n\t\t\tif (value === \"\") {\n\t\t\t\tthis.$emit(\"inputClean\", false);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.$emit(\"inputClean\", true);\n\t\t\t}\n\n\t\t\tthis.text = value;\n\t\t\tthis.anyUrlMeta = f.getUrl(this.text);\n\n\t\t\tif (this.anyUrlMeta !== undefined) {\n\t\t\t\tthis.$emit(\"setMetaUrl\", this.anyUrlMeta);\n\t\t\t} else {\n\t\t\t\tthis.$emit(\"inputClean\", false);\n\t\t\t}\n\n\t\t\tif (this.chat)\n\t\t\t\tthis.core.mtrx.client.sendTyping(this.chat.roomId, true, 100);\n\t\t},\n\n\t\tuploadStart(item, files) {},\n\n\t\tuploadError(item, error) {\n\t\t\tthis.$store.commit(\"icon\", {\n\t\t\t\ticon: \"error\",\n\t\t\t\tmessage: error.text,\n\t\t\t});\n\t\t},\n\t\tgetImg() {\n\t\t\treturn (this.imgs = true);\n\t\t},\n\t\tuploadSizeError(value) {\n\t\t\tif (!value) {\n\t\t\t}\n\t\t},\n\t\tuploadUploaded(item, data) {\n\t\t\tconst validImageTypes = [\n\t\t\t\t\"image/gif\",\n\t\t\t\t\"image/jpeg\",\n\t\t\t\t\"image/png\",\n\t\t\t\t\"image/webp\",\n\t\t\t];\n\n\t\t\tif (!validImageTypes.includes(data.file.type)) {\n\t\t\t\tthis.sendFile(data);\n\t\t\t} else {\n\t\t\t\treturn this.sendImage(data);\n\t\t\t}\n\t\t},\n\t\timageWH(file) {\n\t\t\tconst img = new Image();\n\t\t\tvar imgInfo = {};\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\timg.onload = function () {\n\t\t\t\t\timgInfo.w = this.width;\n\t\t\t\t\timgInfo.h = this.height;\n\t\t\t\t\tresolve(imgInfo);\n\t\t\t\t};\n\n\t\t\t\timg.onerror = function (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t};\n\n\t\t\t\timg.src = file.base64;\n\t\t\t});\n\t\t},\n\t\tuploadUploadedAll(item, result) {\n\t\t\tthis.$store.state.loading = false;\n\t\t},\n\n\t\tcatchPermissonsError(err) {\n\t\t\tif (\n\t\t\t\terr == \"permissions\" ||\n\t\t\t\t(err.toString && err.toString().indexOf(\"Permission\") > -1)\n\t\t\t) {\n\t\t\t\tthis.microphoneDisabled = true;\n\n\t\t\t\tif (window.cordova) {\n\t\t\t\t\tthis.$dialog.confirm(this.$i18n.t(\"micaccesscordova\"), {\n\t\t\t\t\t\tokText: this.$i18n.t(\"button.ok\"),\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.$dialog.confirm(this.$i18n.t(\"micaccessbrowser\"), {\n\t\t\t\t\t\tokText: this.$i18n.t(\"button.ok\"),\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (err.toString && err.toString().indexOf(\"device not found\") > -1) {\n\t\t\t\tthis.$dialog.confirm(this.$i18n.t(\"micdevicenotfound\"), {\n\t\t\t\t\tokText: this.$i18n.t(\"button.ok\"),\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$dialog.confirm(this.$i18n.t(\"micaccesscommonproblem\"), {\n\t\t\t\tokText: this.$i18n.t(\"button.ok\"),\n\t\t\t});\n\n\t\t\tconsole.error(err);\n\t\t},\n\n\t\tgetFileIosCordova(path) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\twindow.resolveLocalFileSystemURL(\n\t\t\t\t\tpath,\n\t\t\t\t\t(entry) => {\n\t\t\t\t\t\tif (!entry) {\n\t\t\t\t\t\t\treturn reject(\"noentry\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tentry.file((file) => {\n\t\t\t\t\t\t\tvar reader = new FileReader();\n\n\t\t\t\t\t\t\treader.onloadend = function () {\n\t\t\t\t\t\t\t\tvar blob = new Blob([new Uint8Array(this.result)], {\n\t\t\t\t\t\t\t\t\ttype: file.type,\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tentry.remove();\n\n\t\t\t\t\t\t\t\tresolve(blob);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\t\t\t\tentry.remove();\n\n\t\t\t\t\t\t\t\treject(e);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\tinitRecordingCordova() {\n\t\t\tthis.prepareRecording = cancelable(\n\t\t\t\tthis.core.media\n\t\t\t\t\t.permissions({ audio: true })\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.microphoneDisabled = false;\n\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\n\t\t\t\t\t\tthis.catchPermissonsError(err);\n\n\t\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis.prepareRecording\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.microphoneDisabled = false;\n\n\t\t\t\t\tvar path = \"recording.mp3\";\n\n\t\t\t\t\tif (f.isios()) path = \"cdvfile://localhost/temporary/recording.m4a\";\n\n\t\t\t\t\tvar sec = 0;\n\n\t\t\t\t\tthis.audioContext = this.core.getAudioContext();\n\n\t\t\t\t\t//var startedTime = (new Date()).getTime() / 1000\n\n\t\t\t\t\tvar media = (this.cordovaMediaRecorder = new Media(\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tthis.recordTime = 0;\n\n\t\t\t\t\t\t\tmedia.release();\n\n\t\t\t\t\t\t\tif (this.cancelledCordovaMediaRecorder) {\n\t\t\t\t\t\t\t\tthis.cancelledCordovaMediaRecorder = false;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar fu = null;\n\n\t\t\t\t\t\t\t/*if(f.isios()){ */\n\n\t\t\t\t\t\t\tfu = this.getFileIosCordova(\n\t\t\t\t\t\t\t\tf.isios()\n\t\t\t\t\t\t\t\t\t? path\n\t\t\t\t\t\t\t\t\t: (window.cordova.file.externalDataDirectory + path)\n\t\t\t\t\t\t\t).then((blob) => {\n\t\t\t\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\t\t\t\tdata: blob,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t/*}\n\n\t\t\t\t\telse{\n\t\t\t\t\t\tfu = f.fetchLocal(path)\n\t\t\t\t\t}*/\n\n\t\t\t\t\t\t\tfu.then((r) => {\n\t\t\t\t\t\t\t\t///temp\n\t\t\t\t\t\t\t\t/*if (f.isios())\n\t\t\t\t\t\t\tr.duration = (new Date()).getTime() / 1000 - startedTime\n\n\n\t\t\t\t\t\t/*var e = {\n\t\t\t\t\t\t\tdata : r.data\n\t\t\t\t\t\t}*/\n\n\t\t\t\t\t\t\t\tif (media.duration && media.duration > 0) {\n\t\t\t\t\t\t\t\t\tr.duration = media.duration;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.createVoiceMessage(r, true);\n\n\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\t\tthis.clear();\n\n\t\t\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.finally(() => {});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(e) => {\n\t\t\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\t\t\tthis.isRecording = false;\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}\n\t\t\t\t\t));\n\n\t\t\t\t\tvar rmsdata = [];\n\n\t\t\t\t\tlet currentPlaying = this.$store.state.currentPlayingVoiceMessage;\n\n\t\t\t\t\tif (currentPlaying) {\n\t\t\t\t\t\tcurrentPlaying.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.interval = setInterval(() => {\n\t\t\t\t\t\t// get media amplitude\n\n\t\t\t\t\t\tif (f.isios()) {\n\t\t\t\t\t\t\trmsdata.push(1);\n\n\t\t\t\t\t\t\tif (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);\n\n\t\t\t\t\t\t\tthis.recordRmsData = _.clone(rmsdata);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.cordovaMediaRecorder.getCurrentAmplitude(\n\t\t\t\t\t\t\t\t// success callback\n\t\t\t\t\t\t\t\t(amp) => {\n\t\t\t\t\t\t\t\t\trmsdata.push(amp * 1000);\n\n\t\t\t\t\t\t\t\t\tif (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);\n\n\t\t\t\t\t\t\t\t\tthis.recordRmsData = _.clone(rmsdata);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfunction (e) {\n\t\t\t\t\t\t\t\t\tconsole.log(\"E\", e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsec = sec + 50;\n\n\t\t\t\t\t\tif (sec % 1000 === 0) this.recordTime = sec;\n\t\t\t\t\t}, 50);\n\n\t\t\t\t\tthis.isRecording = true;\n\t\t\t\t\tthis.cancelOpacity = 0;\n\t\t\t\t\tthis.recordRmsData = [];\n\t\t\t\t\tthis.recordTime = 0;\n\t\t\t\t\tthis.record = null;\n\n\t\t\t\t\tthis.cordovaMediaRecorder.startRecord();\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.prepareRecording = null;\n\t\t\t\t});\n\t\t},\n\n\t\tinitRecording() {\n\t\t\tif (\n\t\t\t\tthis.prepareRecording ||\n\t\t\t\tthis.isRecording ||\n\t\t\t\tthis.cordovaMediaRecorder\n\t\t\t)\n\t\t\t\treturn;\n\n\t\t\tif (window.cordova && !f.isios()) {\n\t\t\t\treturn this.initRecordingCordova();\n\t\t\t}\n\n\t\t\tthis.prepareRecording = cancelable(\n\t\t\t\tthis.core\n\t\t\t\t\t.initMediaRecorder()\n\t\t\t\t\t.then((recorder) => {\n\t\t\t\t\t\tthis.microphoneDisabled = false;\n\n\t\t\t\t\t\tif (this.prepareRecording) {\n\t\t\t\t\t\t\treturn Promise.resolve(recorder);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trecorder.stream.getTracks().forEach((track) => {\n\t\t\t\t\t\t\t\ttrack.stop();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthis.catchPermissonsError(err);\n\t\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis.prepareRecording\n\t\t\t\t.then((recorder) => {\n\t\t\t\t\tthis.mediaRecorder = recorder;\n\n\t\t\t\t\tthis.audioContext = this.core.getAudioContext();\n\t\t\t\t\tthis.audioAnalyser = this.audioContext.createAnalyser();\n\n\t\t\t\t\t//var audioDataArray = new Uint8Array(this.audioAnalyser.frequencyBinCount)\n\n\t\t\t\t\tvar src = this.audioContext.createMediaStreamSource(\n\t\t\t\t\t\tthis.mediaRecorder.stream\n\t\t\t\t\t);\n\t\t\t\t\tsrc.connect(this.audioAnalyser);\n\n\t\t\t\t\tthis.startRecording();\n\t\t\t\t})\n\t\t\t\t.catch(() => {})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.prepareRecording = null;\n\t\t\t\t});\n\t\t},\n\n\t\tstartRecording() {\n\t\t\tlet currentPlaying = this.$store.state.currentPlayingVoiceMessage;\n\n\t\t\tif (currentPlaying) {\n\t\t\t\tcurrentPlaying.pause();\n\t\t\t}\n\n\t\t\tthis.$store.commit(\"SET_VOICERECORDING\", true);\n\n\t\t\tthis.isRecording = true;\n\t\t\tthis.cancelOpacity = 0;\n\t\t\tthis.recordRmsData = [];\n\t\t\tthis.recordTime = 0;\n\t\t\tthis.record = null;\n\t\t\tthis.mediaRecorder.start();\n\n\t\t\tvar sec = 0;\n\t\t\tvar rmsdata = [];\n\n\t\t\tthis.interval = setInterval(() => {\n\t\t\t\tvar dataArray = new Uint8Array(this.audioAnalyser.frequencyBinCount);\n\n\t\t\t\tthis.audioAnalyser.getByteFrequencyData(dataArray);\n\n\t\t\t\trmsdata.push(this.generateRms(dataArray));\n\n\t\t\t\tif (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);\n\n\t\t\t\tsec = sec + 50;\n\n\t\t\t\tthis.recordRmsData = _.clone(rmsdata);\n\n\t\t\t\tif (sec % 1000 === 0) {\n\t\t\t\t\tthis.recordTime = sec;\n\t\t\t\t}\n\t\t\t}, 50);\n\t\t},\n\n\t\tcheckaudioForSend: function (record, sendnow) {\n\t\t\tif (record.duration < 1) {\n\t\t\t\tthis.clear();\n\t\t\t} else {\n\t\t\t\tif (sendnow) {\n\t\t\t\t\tthis.sendVoiceMessage(record);\n\t\t\t\t} else {\n\t\t\t\t\tthis.record = record;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetduration(file) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tf.readFile(file)\n\t\t\t\t\t.then((arraybuffer) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tthis.audioContext.decodeAudioData(arraybuffer, (buffer) => {\n\t\t\t\t\t\t\t\tresolve(buffer.duration);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\treject(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tcreateVoiceMessage(event, sendnow) {\n\t\t\tvar c = () => {\n\t\t\t\t//this.record =\n\n\t\t\t\tthis.checkaudioForSend(\n\t\t\t\t\t{\n\t\t\t\t\t\tfile: event.data,\n\t\t\t\t\t\tid: f.makeid(),\n\t\t\t\t\t\tduration: event.duration,\n\t\t\t\t\t},\n\t\t\t\t\tsendnow\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tif (event.duration) {\n\t\t\t\tc();\n\t\t\t} else {\n\t\t\t\tthis.getduration(event.data)\n\t\t\t\t\t.then((duration) => {\n\t\t\t\t\t\tevent.duration = duration;\n\n\t\t\t\t\t\tc();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*f.readFile(event.data).then(arraybuffer => {\n\n\t\t\t\tconsole.log('arraybuffer', arraybuffer)\n\n\t\t\t\tthis.audioContext.decodeAudioData(arraybuffer, (buffer) => {\n\n\t\t\t\t\tconsole.log('this.record', this.record)\n\t\t\t\t\tconsole.log('this.buffer', buffer)\n\t\t\t\t\t\n\n\t\t\t\t\tthis.record = {\n\t\t\t\t\t\tfile: event.data,\n\t\t\t\t\t\tid: f.makeid()\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.record.duration = buffer.duration\n\n\t\t\t\t\tthis.checkaudioForSend(sendnow)\n\n\t\t\t\t})\n\n\t\t\t}).catch(e => {\n\t\t\t\tconsole.error('e', e)\n\t\t\t\tthis.clear()\n\t\t\t\t//\n\t\t\t})*/\n\t\t},\n\n\t\tgenerateRms(frequencies) {\n\t\t\treturn +Math.sqrt(\n\t\t\t\tfrequencies.reduce((a, b) => a + b ** 2) / frequencies.length\n\t\t\t).toPrecision(4);\n\t\t},\n\n\t\tstopRecording({ cancel, sendnow }) {\n\n\t\t\tthis.$store.commit(\"SET_VOICERECORDING\", false);\n\n\t\t\tif (this.prepareRecording) {\n\t\t\t\tthis.prepareRecording.cancel();\n\t\t\t\tthis.prepareRecording = null;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isRecording = false;\n\n\t\t\tif (this.interval) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tthis.interval = null;\n\t\t\t}\n\n\t\t\tif (this.mediaRecorder) {\n\t\t\t\tif (cancel) {\n\t\t\t\t\t//this.mediaRecorder.ondataavailable = () => { }\n\t\t\t\t} else {\n\t\t\t\t\tvar hasdata = false\n\t\t\t\t\tthis.mediaRecorder.addEventListener(\"dataavailable\", (event) => {\n\t\t\t\t\t\tif(hasdata) return\n\n\t\t\t\t\t\thasdata = true\n\n\t\t\t\t\t\tthis.createVoiceMessage(event, sendnow);\n\t\t\t\t\t}); //ondataavailable = (event) => this.createVoiceMessage(event, sendnow)\n\t\t\t\t}\n\n\t\t\t\tthis.mediaRecorder.stop();\n\n\t\t\t\tthis.mediaRecorder.stream.getTracks().forEach((track) => {\n\t\t\t\t\ttrack.stop();\n\t\t\t\t});\n\n\t\t\t\tthis.mediaRecorder = null;\n\t\t\t}\n\n\t\t\tif (this.cordovaMediaRecorder) {\n\t\t\t\tif (cancel) {\n\t\t\t\t\tthis.cancelledCordovaMediaRecorder = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.cancelledCordovaMediaRecorder = false;\n\t\t\t\t}\n\n\t\t\t\tthis.cordovaMediaRecorder.stopRecord();\n\t\t\t\tthis.cordovaMediaRecorder = null;\n\t\t\t}\n\t\t},\n\n\t\tasync sendVoiceMessage(record) {\n\t\t\tif (!record) record = this.record;\n\n\t\t\tif (!record) {\n\t\t\t\tthis.clear();\n\t\t\t}\n\n\t\t\tthis.recordRmsData = [];\n\n\t\t\tconst base64 = await this.core.convertAudioToBase64(record.file);\n\n\t\t\tconst id = f.makeid();\n\n\t\t\tconst meta = {\n\t\t\t\ttype: \"audio\",\n\t\t\t\tid: id,\n\t\t\t\tbase64: base64,\n\t\t\t};\n\n\t\t\tthis.clear();\n\n\t\t\tthis.$f\n\t\t\t\t.pretry(() => {\n\t\t\t\t\treturn this.chat;\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\treturn this.core.mtrx.sendAudio(this.chat, base64, null, meta, {\n\t\t\t\t\t\trelation: this.relationEvent,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$emit(\"clearRelationEvent\");\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tthis.$emit(\"sentError\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t});\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\t\t},\n\n\t\tclear() {\n\t\t\tthis.record = null;\n\t\t\tthis.recordRmsData = [];\n\t\t\tthis.recordTime = 0;\n\n\t\t\tif (this.interval) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tthis.interval = null;\n\t\t\t}\n\n\t\t\tif (this.cordovaMediaRecorder) {\n\t\t\t\tthis.cordovaMediaRecorder = null;\n\t\t\t}\n\n\t\t\tif (this.mediaRecorder) {\n\t\t\t\tthis.mediaRecorder.stop();\n\t\t\t\tthis.mediaRecorder.stream.getTracks().forEach((track) => {\n\t\t\t\t\ttrack.stop();\n\t\t\t\t});\n\t\t\t\tthis.mediaRecorder = null;\n\t\t\t}\n\n\t\t\t/*if (this.audioContext){\n\t\t\t\tthis.audioContext.close()\n\t\t\t}*/\n\t\t},\n\n\t\t/*async convertAudioToBase64(blob) {\n\t\t\tconst reader = new FileReader()\n\t\t\treader.readAsDataURL(blob)\n\t\t\treturn new Promise(resolve => {\n\t\t\t\treader.onloadend = () => {\n\t\t\t\t\tresolve(reader.result)\n\t\t\t\t}\n\t\t\t})\n\t\t},*/\n\n\t\tsetOpacity(opacity) {\n\t\t\tthis.cancelOpacity = opacity;\n\t\t},\n\n\t\tshowinputmenu : function(){\n\t\t\t/*this.core.menu({\n\t\t\t\titems: this.menu,\n\t\t\t});*/\n\t\t\tthis.menuState.set({\n\t\t\t\titems: this.menu,\n\t\t\t});\n\t\t},\n\t},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=efa2321a&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.sass?vue&type=style&index=0&id=efa2321a&prod&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efa2321a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}